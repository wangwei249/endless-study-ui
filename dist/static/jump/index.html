<!doctype html>
<html>
<head>
    <meta name='viewport' content='width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, viewport-fit=cover' />
    <meta charset='utf-8'>
    <link rel="stylesheet" type="text/css" href="styles.css">
    <link rel="manifest" href="manifest.json">
    <style></style>
    <title>Cube Jump</title>
    <script src="playcanvas-stable.min.js"></script>
    <script src="__settings__.js"></script>
</head>
<body>
    <script src="__start__.js"></script>
    <script src="__loading__.js"></script>
    <script>
         var score = window.location.href.split('=')[1];
        /** 给playCanvas里程序赋值并调用事件 */
        window.addEventListener("message", function (event) {
             // alert(event.origin);
            if (event.origin === "http://localhost") { // always check message came from your website
                var score = event.data.score;
                //callVueBack();
                // call API method one: 【可用】
                //window.setScore(score);
                //alert(event.data.type);

                // call API method two: 【可用】
                var app = pc.Application.getApplication();
                app.fire("score:set", score);


                

                // window.postMessage({
                //     score2: 35,
                // }, "http://localhost");
            }
        }, false);

        //子页面调用父页面的传参   
        // window.parent.postMessage({
        //   score: 35,
        //  }, '*');


    </script>    
</body>
</html>
