(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-67c9714c","chunk-3440bc8b"],{"0852":function(t,e,a){},"0a5c":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:t.className,style:{height:t.height,width:t.width}})},r=[],n=a("313e"),i=a.n(n),l=a("feb2");a("817d");var o=3e3,c={mixins:[l["default"]],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"300px"},chartData:{type:Object,required:!0}},data:function(){return{chart:null}},watch:{chartData:{deep:!0,handler:function(t){this.setOptions(t)}}},mounted:function(){var t=this;this.$nextTick((function(){t.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=i.a.init(this.$el,"macarons"),this.setOptions(this.chartData)},setOptions:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.indicator,a=t.legendData,s=t.data;this.chart.setOption({tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},radar:{radius:"63%",center:["50%","42%"],splitNumber:8,splitArea:{areaStyle:{color:"rgba(127,95,132,.3)",opacity:1,shadowBlur:45,shadowColor:"rgba(0,0,0,.5)",shadowOffsetX:0,shadowOffsetY:15}},indicator:e},legend:{left:"center",bottom:"10",data:a},series:[{type:"radar",symbolSize:0,areaStyle:{normal:{shadowBlur:13,shadowColor:"rgba(0,0,0,.2)",shadowOffsetX:0,shadowOffsetY:10,opacity:1}},data:s,animationDuration:o}]})}}},u=c,d=a("2877"),h=Object(d["a"])(u,s,r,!1,null,null,null);e["default"]=h.exports},"1e8b":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-form",{ref:"form",attrs:{model:t.user,rules:t.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"用户昵称",prop:"nickName"}},[a("el-input",{model:{value:t.user.nickName,callback:function(e){t.$set(t.user,"nickName",e)},expression:"user.nickName"}})],1),a("el-form-item",{attrs:{label:"手机号码",prop:"phonenumber"}},[a("el-input",{attrs:{maxlength:"11"},model:{value:t.user.phonenumber,callback:function(e){t.$set(t.user,"phonenumber",e)},expression:"user.phonenumber"}})],1),a("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[a("el-input",{attrs:{maxlength:"50"},model:{value:t.user.email,callback:function(e){t.$set(t.user,"email",e)},expression:"user.email"}})],1),a("el-form-item",{attrs:{label:"性别"}},[a("el-radio-group",{model:{value:t.user.sex,callback:function(e){t.$set(t.user,"sex",e)},expression:"user.sex"}},[a("el-radio",{attrs:{label:"0"}},[t._v("男")]),a("el-radio",{attrs:{label:"1"}},[t._v("女")])],1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.submit}},[t._v("保存")]),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:t.close}},[t._v("关闭")])],1)],1)},r=[],n=a("c0c7"),i={props:{user:{type:Object}},data:function(){return{rules:{nickName:[{required:!0,message:"用户昵称不能为空",trigger:"blur"}],email:[{required:!0,message:"邮箱地址不能为空",trigger:"blur"},{type:"email",message:"'请输入正确的邮箱地址",trigger:["blur","change"]}],phonenumber:[{required:!0,message:"手机号码不能为空",trigger:"blur"},{pattern:/^1[3|4|5|6|7|8|9][0-9]\d{8}$/,message:"请输入正确的手机号码",trigger:"blur"}]}}},methods:{submit:function(){var t=this;this.$refs["form"].validate((function(e){e&&Object(n["i"])(t.user).then((function(e){200===e.code&&t.msgSuccess("修改成功")}))}))},close:function(){this.$store.dispatch("tagsView/delView",this.$route),this.$router.push({path:"/index"})}}},l=i,o=a("2877"),c=Object(o["a"])(l,s,r,!1,null,null,null);e["default"]=c.exports},2424:function(t,e,a){"use strict";a.r(e);var s,r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"newWordStyle"},[a("el-row",{staticStyle:{"{margin-top":"3px","margin-bottom":"6px","margin-left":"30px","margin-right":"30px"},attrs:{gutter:24}},[a("el-card",{attrs:{"body-style":{padding:"0px"}}},[a("div",{staticClass:"page-header-content"},[a("div",{staticClass:"avatar"},[a("el-avatar",{attrs:{src:t.avater,size:"large"}})],1),a("div",{staticClass:"content"},[a("div",{staticClass:"content-title"},[t._v(" "+t._s(t.nickName)+" ")]),a("span",[t._v(" "+t._s(this.gradeDesc)+" | "+t._s(t.deptname)+" | ")]),a("span",[t._v(" 会员有效期： "+t._s(t.validTo)+" ")]),t.outDateFlag?a("span",[a("font",{attrs:{color:"red"}},[t._v("已过期")])],1):t._e()]),a("div",{staticStyle:{"margin-top":"17px"}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"添加好友",placement:"top-start"}},[a("el-badge",{staticClass:"item",attrs:{value:"",type:"warning"}},[a("el-button",{attrs:{size:"small",icon:"el-icon-zoom-in",circle:""},on:{click:t.addFriend}})],1)],1)],1),a("div",{staticStyle:{"margin-top":"17px"}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"新的朋友审核",placement:"top-start"}},[a("el-badge",{staticClass:"item",attrs:{value:0==t.checkFriendTableData.length?"":t.checkFriendTableData.length,type:"success"}},[a("el-button",{attrs:{size:"small",icon:"el-icon-chat-dot-round",circle:""},on:{click:t.checkFriend}})],1)],1)],1),a("div",{staticStyle:{"margin-top":"17px"}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"个人设置",placement:"top-start"}},[a("el-badge",{staticClass:"item",attrs:{value:"",type:"info"}},[a("el-button",{attrs:{size:"small",icon:"el-icon-user",circle:""},on:{click:function(e){return t.toUserProfile()}}})],1)],1)],1),a("div",{staticStyle:{"margin-top":"17px","margin-right":"17px"}},[a("el-badge",{staticClass:"item",attrs:{value:"",type:"info"}},[a("el-button",{attrs:{size:"small",type:"warning",icon:"el-icon-switch-button",circle:""},on:{click:t.logout}})],1)],1)])])],1),a("el-row",{staticClass:"panel-group",staticStyle:{"margin-top":"0px","margin-bottom":"6px","margin-left":"20px","margin-right":"20px"},attrs:{gutter:24}},[a("el-col",{attrs:{span:14}},[a("el-row",{attrs:{gutter:24}},[a("el-col",{staticClass:"card-panel-col",attrs:{span:6}},[a("div",{staticClass:"card-panel",on:{click:function(e){return t.getListByStatus("")}}},[a("div",{staticClass:"card-panel-icon-wrapper icon-people"},[a("svg-icon",{attrs:{"icon-class":"chart","class-name":"card-panel-icon"}})],1),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[t._v(" 总数 ")]),a("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":t.allNum,duration:2600}})],1)])]),a("el-col",{staticClass:"card-panel-col",attrs:{span:6}},[a("div",{staticClass:"card-panel",on:{click:function(e){return t.getListByStatus("D")}}},[a("div",{staticClass:"card-panel-icon-wrapper icon-eye"},[a("svg-icon",{attrs:{"icon-class":"eye","class-name":"card-panel-icon"}})],1),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[t._v(" 消灭 ")]),a("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":t.passNum,duration:3e3}})],1)])]),a("el-col",{staticClass:"card-panel-col",attrs:{span:6}},[a("div",{staticClass:"card-panel",on:{click:function(e){return t.getListByStatus("A")}}},[a("div",{staticClass:"card-panel-icon-wrapper icon-eyeopen"},[a("svg-icon",{attrs:{"icon-class":"eye-open","class-name":"card-panel-icon"}})],1),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[t._v(" 存活 ")]),a("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":t.aliveNum,duration:3200}})],1)])]),a("el-col",{staticClass:"card-panel-col",attrs:{span:6}},[a("div",{staticClass:"card-panel",on:{click:t.newWordSetting}},[a("div",{staticClass:"card-panel-icon-wrapper icon-money"},[a("svg-icon",{attrs:{"icon-class":"tool","class-name":"card-panel-icon"}})],1),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[t._v(" 设置 ")])])])])],1),a("el-row",{attrs:{gutter:24}},[a("el-col",{staticClass:"card-panel-col",attrs:{span:4}},[a("div",{staticClass:"card-panel",on:{click:t.handleAdd}},[a("div",{staticClass:"card-panel-icon-wrapper icon-message"},[a("svg-icon",{attrs:{"icon-class":"question","class-name":"card-panel-icon"}})],1),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[t._v(" 新增 ")])])])]),a("el-col",{staticClass:"card-panel-col",attrs:{span:4}},[a("div",{staticClass:"card-panel",on:{click:function(e){return t.handlePractise(0)}}},[a("div",{staticClass:"card-panel-icon-wrapper icon-money"},[a("svg-icon",{attrs:{"icon-class":"skill","class-name":"card-panel-icon"}})],1),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[t._v(" 练习 ")]),a("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":t.practiseNum,duration:3200}})],1)])]),a("el-col",{staticClass:"card-panel-col",attrs:{span:4}},[a("div",{staticClass:"card-panel",on:{click:function(e){return t.handlePractise(0)}}},[a("div",{staticClass:"card-panel-icon-wrapper icon-money"},[a("svg-icon",{attrs:{"icon-class":"skill","class-name":"card-panel-icon"}})],1),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[t._v(" 练习(2) ")]),a("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":t.practiseNum,duration:3200}})],1)])]),a("el-col",{staticClass:"card-panel-col",attrs:{span:4}},[a("div",{staticClass:"card-panel",on:{click:function(e){return t.handlePractise(0)}}},[a("div",{staticClass:"card-panel-icon-wrapper icon-money"},[a("svg-icon",{attrs:{"icon-class":"skill","class-name":"card-panel-icon"}})],1),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[t._v(" 练习(3) ")]),a("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":t.practiseNum,duration:3200}})],1)])]),a("el-col",{staticClass:"card-panel-col",attrs:{span:4}},[a("div",{staticClass:"card-panel",on:{click:function(e){t.openFight=!0}}},[a("div",{staticClass:"card-panel-icon-wrapper icon-shopping"},[a("svg-icon",{attrs:{"icon-class":"wechat","class-name":"card-panel-icon"}})],1),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[t._v(" 应战 ")]),a("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":t.challengeNum,duration:3600}})],1)])]),a("el-col",{staticClass:"card-panel-col",attrs:{span:4}},[a("div",{staticClass:"card-panel",on:{click:t.handleTest}},[a("div",{staticClass:"card-panel-icon-wrapper icon-shopping"},[a("svg-icon",{attrs:{"icon-class":"color","class-name":"card-panel-icon"}})],1),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[t._v(" 放松 ")])])])])],1),a("el-row",{staticStyle:{background:"#fff",padding:"16px 16px 0","margin-bottom":"32px"},attrs:{gutter:24}},[a("el-col",{attrs:{xs:24,sm:24,lg:24}},[a("el-radio-group",{model:{value:t.showChart,callback:function(e){t.showChart=e},expression:"showChart"}},[a("el-radio-button",{attrs:{label:"月度目标"}}),a("el-radio-button",{attrs:{label:"状态分布"}}),a("el-radio-button",{attrs:{label:"应战数据"}}),a("el-radio-button",{attrs:{label:"练习统计"}})],1),a("div",{staticClass:"chart-wrapper"},["月度目标"==t.showChart?a("line-chart",{attrs:{"chart-data":t.lineChartData}}):t._e(),"状态分布"==t.showChart?a("pie-chart",{attrs:{"chart-data":t.pieData}}):t._e(),"应战数据"==t.showChart?a("bar-chart",{attrs:{"chart-data":t.barData}}):t._e(),"练习统计"==t.showChart?a("raddar-chart",{attrs:{"chart-data":t.raddarData}}):t._e()],1)],1)],1)],1),a("el-col",{attrs:{span:10}},[a("el-card",{staticStyle:{"margin-bottom":"10px",height:"50%"},attrs:{shadow:"hover"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("热门词汇")]),a("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"}})],1),t._l(t.hotWordsData,(function(e){return a("div",{staticClass:"text item",staticStyle:{float:"left"}},[a("div",[a("el-tooltip",{attrs:{placement:"left",effect:"light"}},[a("div",{attrs:{slot:"content"},slot:"content"},t._l(e.meansList,(function(e,s){return a("div",{staticClass:"text item"},[a("span",[a("font",{staticStyle:{color:"green"}},[t._v(t._s(e.posName))]),t._v(" "+t._s(e.means)+" "),a("br")],1)])})),0),a("el-tag",{attrs:{effect:"dark",type:t.tagType[e.wordId%4]},on:{click:function(a){return t.addToMe(e)}}},[t._v(t._s(e.word))])],1)],1)])}))],2),a("el-card",{staticStyle:{height:"50%"},attrs:{shadow:"hover"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("好友动态 【"),a("el-button",{staticStyle:{float:"center",padding:"3px 0"},attrs:{type:"text"},on:{click:function(e){return t.selectRank()}}},[t._v("排行版")]),t._v("】")],1)]),t._l(t.friendsDyn,(function(e){return t.friendsDyn.length>0?a("div",{staticClass:"text item"},[a("el-card",{attrs:{"body-style":{padding:"5px"}}},[a("b",{staticStyle:{"margin-right":"20px","margin-left":"10px"}},[t._v(t._s(e.nickName)+" ")]),a("time",{staticClass:"time"},[t._v(t._s(e.createTime))]),a("el-divider",{attrs:{direction:"vertical"}}),a("span",{staticStyle:{"margin-right":"20px","margin-left":"20px"}},[t._v("添加生词 ")]),a("el-tooltip",{attrs:{placement:"left",effect:"light"}},[a("div",{attrs:{slot:"content"},slot:"content"},t._l(e.meansList,(function(e,s){return a("div",{staticClass:"text item"},[a("span",[a("font",{staticStyle:{color:"green"}},[t._v(t._s(e.posName))]),t._v(" "+t._s(e.means)+" "),a("br")],1)])})),0),a("el-tag",[t._v(t._s(e.word))])],1),a("el-divider",{attrs:{direction:"vertical"}}),a("el-tooltip",{attrs:{effect:"dark",content:"添加到我的生词库",placement:"top-start"}},[a("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-plus",circle:""},on:{click:function(a){return t.addToMe(e)}}})],1)],1)],1):t._e()})),t._l(5,(function(e){return 0==t.friendsDyn.length?a("div",{staticClass:"text item"},[a("el-card",{attrs:{"body-style":{padding:"15px"}}},[t._v(" 暂无动态 ")])],1):t._e()}))],2)],1)],1),a("div",[a("el-divider"),t._m(0),a("br"),a("span",{staticStyle:{"text-align":"center",display:"block","font-size":"10px"}},[t._v("版权所有 2022-2025 ")])],1),a("el-drawer",{attrs:{title:"接受挑战",visible:t.openFight,direction:"rtl","before-close":t.closeFight},on:{"update:visible":function(e){t.openFight=e}}},[a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary"},on:{click:t.fightAll}},[t._v("应战全部")]),a("el-button",{staticStyle:{"margin-bottom":"15px"},attrs:{type:"warning",disabled:t.fightTableData.length<=0},on:{click:t.failAll}},[t._v("举手投降")]),a("el-divider",{attrs:{"content-position":"left"}},[t._v("待应战总数："+t._s(t.fightTableData.length))]),a("el-table",{ref:"fightTable",staticStyle:{width:"100%"},attrs:{data:t.fightTableData,height:"550"}},[a("el-table-column",{attrs:{prop:"userName",label:"发起挑战者"}}),a("el-table-column",{attrs:{prop:"nickName",label:"挑战者昵称"}}),a("el-table-column",{attrs:{prop:"word",label:"单词"}}),a("el-table-column",{attrs:{prop:"createTime",label:"挑战时间"}}),a("el-table-column",{attrs:{prop:"",label:"处理"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"success","disable-transitions":""},on:{click:function(a){return t.processFight(e.row.id)}}},[t._v("应战 ")])]}}])})],1)],1),a("el-dialog",{attrs:{title:t.title,visible:t.openList,width:"960px","append-to-body":""},on:{"update:visible":function(e){t.openList=e},close:t.closeList}},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:t.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:t.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"单词",prop:"word"}},[a("el-input",{attrs:{placeholder:"请输入单词",clearable:"",size:"small"},model:{value:t.queryParams.word,callback:function(e){t.$set(t.queryParams,"word",e)},expression:"queryParams.word"}})],1),a("el-form-item",{attrs:{label:"生词状态",prop:"status"}},[a("el-select",{attrs:{placeholder:"请选择生词状态",clearable:"",size:"small"},model:{value:t.queryParams.status,callback:function(e){t.$set(t.queryParams,"status",e)},expression:"queryParams.status"}},[a("el-option",{attrs:{label:"全部",value:""}}),a("el-option",{attrs:{label:"存活",value:"A"}}),a("el-option",{attrs:{label:"消灭",value:"D"}})],1)],1),a("el-form-item",[a("el-button",{attrs:{type:"cyan",icon:"el-icon-search",size:"mini"},on:{click:t.handleQuery}},[t._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:t.resetQuery}},[t._v("重置")]),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:user:export"],expression:"['system:user:export']"}],attrs:{type:"warning",icon:"el-icon-download",size:"mini"},on:{click:t.handleExport}},[t._v("导出")])],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{data:t.newWordsList,height:"350"},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{label:"序号",type:"index",align:"center","show-overflow-tooltip":"",width:"50px"}}),a("el-table-column",{attrs:{label:"单词",align:"center",prop:"word",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tooltip",{attrs:{placement:"left",effect:"light"}},[a("div",{attrs:{slot:"content"},slot:"content"},t._l(e.row.meansList,(function(e,s){return a("div",{staticClass:"text item"},[a("span",[a("font",{staticStyle:{color:"green"}},[t._v(t._s(e.posName))]),t._v(" "+t._s(e.means)+" "),a("br")],1)])})),0),a("el-tag",{staticStyle:{"font-size":"18px"}},[t._v(t._s(e.row.word))])],1)]}}])}),a("el-table-column",{attrs:{label:"听",align:"center",prop:"word",width:"150px"},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(e.row.voice,(function(s,r,n){return a("span",[s&&"ph_en_mp3"==r?a("span",[a("i",{staticClass:"el-icon-headset",on:{click:function(a){return t.playSoundTale(e.row.word)}}}),a("audio",{ref:e.row.word,refInFor:!0,staticClass:"audioClass",attrs:{controls:"controls",hidden:"",src:s}})]):t._e()])}))}}])}),a("el-table-column",{attrs:{label:"完成进度",align:"center",prop:"rightTimes",width:"180"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("el-progress",{attrs:{percentage:t.row.rightTimes/t.row.reqCount*100}})]}}])}),a("el-table-column",{attrs:{label:"上一次正确时间",align:"center",prop:"lastRigthTime",width:"180"}}),a("el-table-column",{attrs:{label:"下次可练习时间",align:"center",prop:"elapseTimes",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tooltip",{attrs:{placement:"left",effect:"light"}},[a("div",{attrs:{slot:"content"},slot:"content"},[t._v(" 正确次数:"+t._s(e.row.rightTimes)),a("br"),t._v(" 过关次数:"+t._s(e.row.reqCount)),a("br"),t._v(" 要求间隔:"+t._s(e.row.reqIntervalTimes)),a("br"),t._v(" 已过时间:"+t._s(e.row.elapseTimes)+" ")]),a("el-button",{attrs:{size:"small",type:e.row.rightTimes>=e.row.reqCount?"success":"warning"}},[t._v(t._s(t.nextPractiseFormatter(e.row)))])],1)]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total>0"}],attrs:{total:t.total,page:t.queryParams.pageNum,limit:t.queryParams.pageSize},on:{"update:page":function(e){return t.$set(t.queryParams,"pageNum",e)},"update:limit":function(e){return t.$set(t.queryParams,"pageSize",e)},pagination:t.getList}})],1),a("el-dialog",{attrs:{title:t.title,visible:t.open,width:"500px","append-to-body":""},on:{"update:visible":function(e){t.open=e},close:t.closeAddNewWord}},[a("AddNewWord",{ref:"AddNewWord"})],1),a("el-dialog",{attrs:{title:t.titlePractise,visible:t.openPractise,width:"850px","show-close":!1,"custom-class":"practiseDialog2"},on:{"update:visible":function(e){t.openPractise=e},close:t.closePractise}},[a("div",{attrs:{slot:"title"},slot:"title"},[a("div")]),a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:8,align:"right"}},[a("el-popover",{attrs:{placement:"right",width:"400",trigger:"click"},on:{hide:t.hidePopover},model:{value:t.openChallenge,callback:function(e){t.openChallenge=e},expression:"openChallenge"}},[a("el-form",{ref:"formChellenge",attrs:{model:t.form,rules:t.rules,"label-width":"80px"},nativeOn:{submit:function(t){t.preventDefault()}}},[a("el-divider",[a("i",{staticClass:"el-icon-mobile-phone"})]),a("el-input",{staticStyle:{"margin-bottom":"15px"},attrs:{placeholder:"输入好友名称/昵称回车键搜索",clearable:"",size:"small"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.listFriends(e)}},model:{value:t.userNameForSearch,callback:function(e){t.userNameForSearch=e},expression:"userNameForSearch"}}),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.userList,"tooltip-effect":"dark"},on:{"selection-change":t.handleSelectionChangeChallenge}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{label:"姓名"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tag",[t._v(t._s(e.row.userName)+" ")])]}}])}),a("el-table-column",{attrs:{label:"昵称"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.nickName)+" ")]}}])})],1),a("el-input",{staticStyle:{"margin-top":"15px","margin-bottom":"10px"},attrs:{placeholder:"挑战留言"},model:{value:t.form.challengePut,callback:function(e){t.$set(t.form,"challengePut",e)},expression:"form.challengePut"}}),a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-position"},on:{click:t.chellengeUser}},[t._v("发起")]),a("el-button",{attrs:{size:"small",type:"info",icon:"el-icon-s-release"},on:{click:t.hidePopover}},[t._v("取消")])],1),a("el-button",{staticStyle:{"margin-bottom":"15px"},attrs:{slot:"reference",icon:"el-icon-share",type:"primary"},on:{click:t.listFriends},slot:"reference"},[t._v("挑战好友")])],1),a("el-button",{staticStyle:{"margin-left":"15px","margin-top":"8px"},attrs:{icon:"el-icon-error"},on:{click:t.closePractise}},[t._v("结束练习")])],1),a("el-col",{attrs:{span:8,offset:8,align:"right"}},[a("el-button",{staticStyle:{"margin-top":"8px"},attrs:{type:"success",icon:"el-icon-check"}},[t._v(" "+t._s(t.practiseRightTimes)+" ")]),a("el-button",{staticStyle:{"margin-left":"15px"},attrs:{type:"danger",icon:"el-icon-close"}},[t._v(" "+t._s(t.practiseWrongTimes)+" ")])],1)],1),a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:18,align:"middle"}},[a("el-card",{attrs:{shadow:"always","body-style":"{ padding: '10px' }"}},[a("span",{style:t.wordStyle},[t._v(" "+t._s(this.currentWord.word)+" ")])])],1),a("el-col",{attrs:{span:6,align:"right"}},[a("el-progress",{staticClass:"elprogress",attrs:{percentage:t.practiseRatio,type:"circle",width:100,format:t.format}})],1)],1),t.challengeReplyShow?a("el-row",{attrs:{gutter:22}},[a("el-col",{attrs:{span:12}},[a("el-tag",{attrs:{effect:"plain"}},[t._v("挑战者说")]),t._v(" "+t._s(this.currentWord.challengePut)+" ")],1)],1):t._e(),t.challengeReplyShow?a("el-row",{staticStyle:{"margin-top":"5px"}},[a("el-col",[a("el-input",{attrs:{placeholder:"我的回复",size:"15"},model:{value:t.challengeReply,callback:function(e){t.challengeReply=e},expression:"challengeReply"}})],1)],1):t._e(),a("el-progress",{attrs:{percentage:t.countDownRatio,status:t.countDownStatus}}),a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:24}},t._l(this.suggestWords,(function(e,s){return a("div",{staticStyle:{display:"flex"}},[a("el-card",{staticClass:"box-card",nativeOn:{click:function(a){return t.checkAnswer(e,s)}}},t._l(e.meansList,(function(s,r){return a("span",{staticStyle:{"margin-left":"2px"}},[r!=e.meansList.length-1?a("span",[a("font",{staticStyle:{color:"green"}},[t._v(t._s(s.posName))]),t._v(" "+t._s(s.means)+" "),a("br"),a("br")],1):t._e(),r==e.meansList.length-1?a("span",[a("font",{staticStyle:{color:"green"}},[t._v(t._s(s.posName))]),t._v(" "+t._s(s.means)+" ")],1):t._e()])})),0)],1)})),0)],1)],1),a("PractiseNewWord2",{ref:"PractiseNewWord2",attrs:{openPractise:t.showPractise2}}),a("el-dialog",{attrs:{title:t.titleAddFriend,visible:t.openAddFriend,width:"350px","append-to-body":"","show-close":!0},on:{"update:visible":function(e){t.openAddFriend=e}}},[""!=t.currentFriendStatusTip?a("span",{staticStyle:{color:"green","margin-bottom":"15px"}},[t._v(t._s(t.currentFriendStatusTip))]):t._e(),a("el-input",{attrs:{placeholder:"请输入用户名"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchUser(e)}},model:{value:t.userNameForSearch,callback:function(e){t.userNameForSearch=e},expression:"userNameForSearch"}}),a("el-divider"),a("el-table",{ref:"friendTable",staticStyle:{width:"100%"},attrs:{data:t.friendTableData}},[a("el-table-column",{attrs:{prop:"userName",label:"登录名"}}),a("el-table-column",{attrs:{prop:"nickName",label:"用户昵称"}}),a("el-table-column",{attrs:{prop:"",label:"处理"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"success",disabled:"S"==t.currentFriendStatus||"N"==t.currentFriendStatus,"disable-transitions":""},on:{click:function(a){return t.addFriendLast(e.row.userId)}}},[t._v("添加 ")])]}}])})],1)],1),a("el-dialog",{attrs:{title:t.titleAddFriend,visible:t.openCheckFriend,width:"550px","append-to-body":"","show-close":!0},on:{"update:visible":function(e){t.openCheckFriend=e}}},[a("el-table",{ref:"checkFriendTable",staticStyle:{width:"100%"},attrs:{data:t.checkFriendTableData}},[a("el-table-column",{attrs:{prop:"fuserName",label:"登录名"}}),a("el-table-column",{attrs:{prop:"fnickName",label:"用户昵称"}}),a("el-table-column",{attrs:{prop:"",label:"审核"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"success","disable-transitions":""},on:{click:function(a){return t.checkFriendLast(e.row.id,"S")}}},[t._v("同意 ")]),a("el-button",{attrs:{type:"warn","disable-transitions":""},on:{click:function(a){return t.checkFriendLast(e.row.id,"F")}}},[t._v("拒绝 ")])]}}])})],1)],1),a("el-dialog",{attrs:{title:t.titleNewWordSetting,visible:t.openNewWordSetting,width:"900px","append-to-body":"","show-close":!0},on:{"update:visible":function(e){t.openNewWordSetting=e}}},[a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:18}}),a("el-col",{attrs:{span:6}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"保存设置",placement:"top-start"}},[a("el-button",{staticStyle:{"margin-bottom":"10px",padding:"10px"},attrs:{type:"success",icon:"el-icon-check"},on:{click:t.saveSetting}},[t._v("保存设置")])],1)],1)],1),a("el-collapse",{model:{value:t.activeNames,callback:function(e){t.activeNames=e},expression:"activeNames"}},[a("el-collapse-item",{attrs:{title:"生词练习间隔时间设置",name:"1"}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"新增次数",placement:"top-start"}},[a("el-button",{staticStyle:{padding:"10px"},attrs:{type:"primary",icon:"el-icon-plus",size:"small"},on:{click:t.addMemory}})],1),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"删除次数",placement:"top-start"}},[a("el-button",{staticStyle:{padding:"10px"},attrs:{type:"primary",icon:"el-icon-delete",size:"small"},on:{click:t.delMemory}})],1),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"恢复默认值",placement:"top-start"}},[a("el-button",{staticStyle:{"margin-bottom":"10px",padding:"10px"},attrs:{type:"primary",icon:"el-icon-refresh-right",size:"small"},on:{click:t.refreshMemory}})],1),t._l(this.wordSettingMemory,(function(e,s){return a("div",{staticClass:"block"},[a("el-tag",{attrs:{effect:"plain"}},[t._v("第"+t._s(e.settingName)+"次")]),t._v("练习间隔(小时) "),a("el-input-number",{attrs:{step:24,size:"small"},model:{value:e.settingValue,callback:function(a){t.$set(e,"settingValue",a)},expression:"memory.settingValue"}})],1)}))],2),a("el-collapse-item",{attrs:{title:"生词目标值设置",name:"2"}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"新增月份目标",placement:"top-start"}},[a("el-button",{staticStyle:{padding:"10px"},attrs:{type:"primary",icon:"el-icon-plus",size:"small"},on:{click:t.addCollect}})],1),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"删除月份目标",placement:"top-start"}},[a("el-button",{staticStyle:{padding:"10px"},attrs:{type:"primary",icon:"el-icon-delete",size:"small"},on:{click:t.delCollect}})],1),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"恢复默认值",placement:"top-start"}},[a("el-button",{staticStyle:{"margin-bottom":"10px",padding:"10px"},attrs:{type:"primary",icon:"el-icon-refresh-right",size:"small"},on:{click:t.refreshCollect}})],1),t._l(this.wordSettingTarget,(function(e,s){return a("div",{staticClass:"block"},[a("el-tag",[t._v("月份")]),t._v(t._s(e.settingName)+" "),a("el-divider",{attrs:{direction:"vertical"}}),a("el-tag",[t._v("收集生词目标")]),a("el-input-number",{attrs:{step:50,size:"small"},model:{value:e.settingValue,callback:function(a){t.$set(e,"settingValue",a)},expression:"collect.settingValue"}}),a("el-divider",{attrs:{direction:"vertical"}}),a("el-tag",[t._v("消灭生词目标")]),a("el-input-number",{attrs:{step:50,size:"small"},model:{value:e.settingValueTwo,callback:function(a){t.$set(e,"settingValueTwo",a)},expression:"collect.settingValueTwo"}}),a("el-divider",{attrs:{direction:"vertical"}}),a("el-tag",[t._v("练习准确率")]),a("el-input-number",{attrs:{step:.1,max:"1",size:"small"},model:{value:e.settingValueThree,callback:function(a){t.$set(e,"settingValueThree",a)},expression:"collect.settingValueThree"}})],1)}))],2)],1)],1),a("el-dialog",{attrs:{title:"个人设置",visible:t.openUserProfile,width:"1100px","append-to-body":"","show-close":!0},on:{"update:visible":function(e){t.openUserProfile=e}}},[a("Profile")],1),a("el-dialog",{ref:"gameDialog",staticClass:"practiseDialog",attrs:{title:t.titleTest,visible:t.openTest,width:"850px",height:"800px","append-to-body":"",id:"gameDialog","show-close":!1,"custom-class":"practiseDialog2"},on:{"update:visible":function(e){t.openTest=e},close:t.closePractise}},[a("el-button",{attrs:{type:"primary"},on:{click:t.sendMessage}},[t._v(" 向playCanvas发消息 ")]),a("iframe",{attrs:{src:t.jumpUrl,id:"ifr1",name:"ifr1",scrolling:"yes",width:"800px",height:"500px"}})],1),a("el-dialog",{attrs:{title:"排行榜",visible:t.openRank,width:"500px","append-to-body":"","show-close":!0},on:{"update:visible":function(e){t.openRank=e}}},[a("el-tabs",{on:{"tab-click":t.handleRankClick},model:{value:t.rankActiveName,callback:function(e){t.rankActiveName=e},expression:"rankActiveName"}},[a("el-tab-pane",{attrs:{label:"收集单词排行榜",name:"all"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.ranks}},[a("el-table-column",{attrs:{type:"index","min-width":"30%",label:"排名"}}),a("el-table-column",{attrs:{prop:"userName",label:"昵称","min-width":"35%"}}),a("el-table-column",{attrs:{prop:"allNum",label:"收集单词数","min-width":"35%"}})],1)],1),a("el-tab-pane",{attrs:{label:"消灭单词排行榜",name:"dead"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.ranks}},[a("el-table-column",{attrs:{type:"index","min-width":"20%",label:"排名"}}),a("el-table-column",{attrs:{prop:"userName",label:"昵称","min-width":"40%"}}),a("el-table-column",{attrs:{prop:"allNum",label:"消灭单词数","min-width":"40%"}})],1)],1)],1)],1),a("el-dialog",{attrs:{title:"续费窗口",visible:t.openPay,width:"650px",height:"600px","append-to-body":"","show-close":!1},on:{"update:visible":function(e){t.openPay=e},close:t.closePractise}},[a("el-tag",[t._v("续费后会员有效期到："+t._s(t.afterPayValidTo))]),a("el-radio-group",{on:{change:function(e){return t.changePay()}},model:{value:t.payType,callback:function(e){t.payType=e},expression:"payType"}},[a("el-card",t._l(t.payData,(function(e,s){return a("el-radio",{attrs:{label:e.price}},[a("font",[t._v(t._s(e.name))]),a("el-divider",{attrs:{direction:"vertical"}}),a("font",{staticStyle:{color:"green",size:"'30px'"}},[t._v(t._s(e.price))]),t._v(" 元 ")],1)})),1)],1),a("el-button",{staticStyle:{"margin-top":"20px"},attrs:{type:"success",plain:""},on:{click:function(e){return t.pay()}}},[t._v("去支付")]),t.payCode?a("div",{staticStyle:{width:"200px",height:"250px",margin:"0 auto","margin-top":"20px"}},[a("div",{ref:"qrcodeRef",attrs:{id:"qrcode"}})]):t._e()],1),a("el-dialog",{attrs:{title:"扫码支付窗口",visible:t.wxPay,width:"650px",height:"600px","append-to-body":"","show-close":!1},on:{"update:visible":function(e){t.wxPay=e}}},[t._v(" 二维码 ")])],1)},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticStyle:{"text-align":"center",display:"block","font-size":"14px"}},[a("a",{attrs:{href:"https://beian.miit.gov.cn/"}},[t._v("豫ICP备2022013318号-1")]),t._v(" www.endlessly.cn ")])}],i=(a("d81d"),a("a434"),a("d3b7"),a("25f0"),a("5530")),l=(a("96cf"),a("1da1")),o=a("ade3"),c=a("ec1b"),u=a.n(c),d=a("eab4"),h=a("0a5c"),p=a("d153"),m=a("9488"),g=a("4c1b"),f=a("d13d"),b=a("65ce"),v=a("bf8d"),y=a("c0c7"),w=a("bbf2"),x=a("17d9"),S=a("d044"),_=a.n(S),k=a("9612"),C=a("6cbb"),P=a("7d9f"),T=a("9287"),O={newVisitis:{xaxis:[],expectedData:[],actualData:[]},messages:{expectedData:[200,192,120,144,160,130,140],actualData:[180,160,151,106,145,150,130]},purchases:{expectedData:[80,100,121,104,105,90,100],actualData:[120,90,100,138,142,130,130]},shoppings:{expectedData:[130,140,141,142,145,150,160],actualData:[120,82,91,154,162,140,130]}},W={name:"NewWords",components:{CountTo:u.a,LineChart:d["default"],RaddarChart:h["default"],PieChart:p["default"],BarChart:m["default"],Profile:g["default"],AddNewWord:C["default"],PractiseNewWord:P["default"],PractiseNewWord2:T["default"]},data:function(){var t;return t={loading:!0,ids:[],single:!0,multiple:!0,showSearch:!0,total:0,newWordsList:[],title:"",titlePractise:"",open:!1,openList:!1,openPractise:!1,openTest:!1,queryParams:{id:null,pageNum:1,pageSize:10,userId:null,wordId:null,status:null,wrongTimes:null,rightTimes:null,lastRigthTime:null,word:null,challengeId:null,challengeStatus:""},queryFriendsParams:{userId:null,friendId:null,status:null,userName:null},form:{},rules:{},suggestWords:[],currentWord:{},wordStyle:"margin: 20px;color:black;font-size:58px;font-family:Arial;",english1:["a","b","c","d","e","f","g","h","i","g","k","l","m","n"],english2:["o","p","q","r","s","t","u","v","w","x","y","z"],practiseType:!1,allNum:0,passNum:0,aliveNum:0,practiseNum:0,allRatio:0,practiseRatio:0,practiseRightTimes:0,practiseWrongTimes:0,practiseWordStatus:"A",countDown:60,countDownRatio:100,countDownStatus:"success",clock:null,autocompleteFocus:!0,lineChartData:O.newVisitis,titleTest:"小游戏",pieData:[{value:360,name:"已消灭"},{value:220,name:"可练习"},{value:150,name:"需等待"}],barData:{},raddarData:{},userList:[],challengeUserList:[],challengePut:"",openChallenge:!1,openFight:!1,suspend:!1,fightTableData:[],challengeNum:0,challengeReply:"",challengeReplyShow:!1,continueFight:!1,multipleSelectionChallenge:[],userNameForSearch:"",avater:this.$store.state.user.avatar,validTo:this.$store.state.user.validTo,nickName:this.$store.state.user.nick,deptname:this.$store.state.user.deptname,friendsDyn:[],showChart:"月度目标",friendTableData:[],titleAddFriend:"添加好友",titleCheckFriend:"审核好友",titleNewWordSetting:"生词设置",openAddFriend:!1,openCheckFriend:!1,openNewWordSetting:!1,friend:{}},Object(o["a"])(t,"userNameForSearch",""),Object(o["a"])(t,"currentFriendStatus",""),Object(o["a"])(t,"currentFriendStatusTip",""),Object(o["a"])(t,"checkFriendCount",""),Object(o["a"])(t,"checkFriendTableData",[]),Object(o["a"])(t,"wordSettingMemory",[]),Object(o["a"])(t,"wordSettingTarget",[]),Object(o["a"])(t,"activeNames",["1","2"]),Object(o["a"])(t,"openUserProfile",!1),Object(o["a"])(t,"hotWordsData",[]),Object(o["a"])(t,"tagType",["success","info","danger","warning"]),Object(o["a"])(t,"gradeDesc",""),Object(o["a"])(t,"openRank",!1),Object(o["a"])(t,"ranks",[]),Object(o["a"])(t,"rankActiveName","all"),Object(o["a"])(t,"outDateFlag",!1),Object(o["a"])(t,"openPay",!1),Object(o["a"])(t,"payData",[{price:20,name:"一个月"},{price:50,name:"三个月"},{price:180,name:"一年"},{price:500,name:"永久"}]),Object(o["a"])(t,"payType",""),Object(o["a"])(t,"afterPayValidTo",this.$store.state.user.validTo),Object(o["a"])(t,"wxPay",!1),Object(o["a"])(t,"payCode",!1),Object(o["a"])(t,"jumpUrl",""),Object(o["a"])(t,"practiseWordArray",[]),Object(o["a"])(t,"suggestWordsArray",[]),Object(o["a"])(t,"oncePractiseCount",0),Object(o["a"])(t,"overTime",!1),Object(o["a"])(t,"showPractise2",!1),t},created:function(){this.getList(),this.getNewWordCollect(),this.listNewWordChallenge(),this.selectExpectActual(),this.selectChallengeCollect(),this.selectFriendsDyn(),this.listCheckFriend(),this.gradeDesc=this.getGradeDesc()},methods:(s={getList:function(){var t=this;this.loading=!0,this.queryParams.userId=this.$store.state.user.id,Object(f["h"])(this.queryParams).then((function(e){for(var a in t.newWordsList=e.rows,e.rows)e.rows[a].voice=JSON.parse(e.rows[a].voice);t.total=e.total,t.loading=!1}))},getNewWordCollect:function(){var t=this;Object(f["m"])(this.$store.state.user.id).then((function(e){""!=e&&(t.allNum=e.allNum,t.passNum=e.passNum,t.aliveNum=e.aliveNum,t.practiseNum=e.practiseNum),t.pieData=[{value:t.passNum,name:"已消灭"},{value:t.practiseNum,name:"可练习"},{value:t.allNum-t.passNum-t.practiseNum,name:"需等待"}]}))},selectExpectActual:function(){var t=this;Object(f["k"])(this.$store.state.user.id).then((function(e){var a=[],s=[],r=[],n=new Date,i=n.getFullYear()+"-"+(n.getMonth()+1<10?"0"+(n.getMonth()+1):n.getMonth()+1),l={};for(var o in e.rows)a.push(e.rows[o].yearMonth),s.push(e.rows[o].expectNum),r.push(e.rows[o].actualNum),e.rows[o].yearMonth==i&&(l=e.rows[o]);t.lineChartData={xaxis:a,expectedData:s,actualData:r};var c=[{name:"生词数量",max:l.expectNum},{name:"练习准确率",max:l.expectRightRatio},{name:"消灭生词数",max:l.expectPassNum}],u=[l.yearMonth],d=[{value:[l.actualNum,l.actualRightRatio,l.actualPassNum],name:l.yearMonth}];t.raddarData={indicator:c,legendData:u,data:d}}))},selectChallengeCollect:function(){var t=this;Object(f["j"])(this.$store.state.user.id,"challenge").then((function(e){var a=[],s=[],r=[],n=[];for(var i in e.rows)a.push(e.rows[i].yearMonth),s.push(e.rows[i].challengeNum),r.push(e.rows[i].challengePassNum),n.push(e.rows[i].challengeFailNum);t.barData.xaxis=a;var l={name:"应战数",type:"bar",stack:"vistors",barWidth:"60%",data:s,animationDuration:6e3},o={name:"应战成功数",type:"bar",stack:"vistors",barWidth:"60%",data:r,animationDuration:6e3},c={name:"应战失败数",type:"bar",stack:"vistors",barWidth:"60%",data:n,animationDuration:6e3};t.barData={xaxis:a,series:[l,o,c]}}))},selectFriendsDyn:function(){var t=this;Object(f["l"])(this.$store.state.user.id).then((function(e){t.friendsDyn=e.rows}))},listNewWordChallenge:function(){var t=this;this.queryParams.challengeId=this.$store.state.user.id,this.queryParams.challengeStatus="E",this.queryParams.userId=null,this.queryParams.id=null,this.queryParams.status=null,Object(f["i"])(this.queryParams).then((function(e){t.fightTableData=e.rows,t.challengeNum=e.rows.length,t.queryParams.challengeId=null}))},cancel:function(){this.open=!1,this.reset()},format:function(t){return"正确率".concat(t,"%")},reset:function(){this.form={id:null,userId:this.$store.state.user.id,wordId:null,status:"A",wrongTimes:0,rightTimes:0,lastRigthTime:null,createBy:this.$store.state.user.id,createTime:null,updateBy:this.$store.state.user.id,updateTime:null,remark:null,challengeUserList:[],challengePut:""},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(t){this.ids=t.map((function(t){return t.id})),this.single=1!==t.length,this.multiple=!t.length},handleAdd:function(){var t=this;this.reset(),this.currentWord={},this.suggestWords=[],this.open=!0,this.title="添加生词",this.$nextTick((function(){t.$refs.AddNewWord.handleAdd()}))},closeAddNewWord:function(){this.getList(),this.getNewWordCollect(),this.listNewWordChallenge(),this.open=!1},handlePractise2:function(){this.showPractise2=!0},handlePractise:function(t){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function a(){var s,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(e.reset(),e.countDown=60,e.countDownRatio=100,e.countDownStatus="success",e.currentWord={},e.suggestWords=[],e.openPractise=!0,e.queryParams.challengeStatus=null,e.queryParams.word="",e.queryParams.status=e.practiseWordStatus,e.wordStyle="margin-left: 10px;color:black;font-size:58px;font-family:Arial",e.overTime=!1,e.title="练习生词",t>0?(e.queryParams.id=t,e.queryParams.challengeId=e.$store.state.user.id,e.queryParams.challengeStatus="E",e.queryParams.userId=null,e.queryParams.status=null,e.challengeReplyShow=!0):(e.queryParams.id=null,e.queryParams.challengeId=null,e.queryParams.challengeStatus="",e.queryParams.userId=e.$store.state.user.id,e.queryParams.status="A",e.challengeReplyShow=!1),!1,s=!0,!(e.practiseWordArray.length<=0)){a.next=21;break}return a.next=19,Object(f["i"])(e.queryParams).then((function(t){if(t.rows.length<=0)return s=!1,e.currentWord.word="没有可练习的生词",e.suspend=!0,void e.$forceUpdate();t.rows.length>0&&(!0,s=!0,e.oncePractiseCount++,e.practiseWordArray=t.rows,e.currentWord=e.practiseWordArray.pop(),e.currentWord.result="info")}));case 19:a.next=26;break;case 21:!0,s=!0,e.oncePractiseCount++,e.currentWord=e.practiseWordArray.pop(),e.currentWord.result="info";case 26:if(s&&(e.clock&&window.clearInterval(e.clock),e.clock=window.setInterval((function(){if(e.suspend||(e.countDown--,e.countDownRatio=Math.floor(e.countDown/60*100),e.countDownRatio<=40?e.countDownStatus="exception":e.countDownRatio<=70&&(e.countDownStatus="warning")),e.countDown<=1){window.clearInterval(e.clock);var t=JSON.parse(JSON.stringify(e.currentWord));t.word="abdfs",e.overTime=!0,e.checkAnswer(t,-1)}}),1e3)),!s){a.next=35;break}if(!(e.suggestWordsArray.length<=0||e.oncePractiseCount>10)){a.next=32;break}return console.log(e.queryParams),a.next=32,Object(b["e"])(e.queryParams).then((function(t){e.suggestWordsArray=t.rows}));case 32:for(r=0;r<4;r++)e.suggestWords[r]=e.suggestWordsArray[Math.round(40*Math.random())],e.suggestWords[r].result="";e.suggestWords[parseInt(Math.random()*(e.suggestWords.length-1-0+1)+0)]=e.currentWord,e.currentWord.result="";case 35:case"end":return a.stop()}}),a)})))()},checkAnswer:function(t,e){var a=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){var s,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.word==a.currentWord.word?(t.result="success",a.wordStyle="margin-left: 10px;color:green;font-size:68px;"):(t.result="danger",a.wordStyle="margin-left: 10px;color:red;font-size:68px;"),s>=0&&(t.editable=!0,a.$set(a.suggestWords,s,t)),null!=a.queryParams.id&&(t.challengeReply=a.challengeReply,t.challengeStatus="success"==t.result?"S":"F"),t.newWordsId=a.currentWord.id,t.userId=a.$store.state.user.id,Object(v["a"])(t).then((function(e){200===e.code&&("success"==t.result?(a.practiseRightTimes++,a.msgSuccess("恭喜答对了！")):(a.practiseWrongTimes++,a.msgError("不好意思答错了！！！")),a.practiseRatio=Math.floor(a.practiseRightTimes/(a.practiseRightTimes+a.practiseWrongTimes)*100))})),null==a.queryParams.id){e.next=11;break}for(s in a.fightTableData)a.fightTableData[s].id==a.queryParams.id&&(a.fightTableData.splice(s,1),s--);a.fightTableData.length>0&&a.continueFight?setTimeout((function(){a.handlePractise(a.fightTableData[0].id)}),500):a.closePractise(),e.next=18;break;case 11:if(!a.overTime){e.next=17;break}return r=a,e.next=15,a.$alert("点击确定继续练习","已超时",{confirmButtonText:"确定",callback:function(t){setTimeout((function(){r.handlePractise(0)}),500)}});case 15:e.next=18;break;case 17:setTimeout((function(){a.handlePractise(0)}),500);case 18:case"end":return e.stop()}}),e)})))()},closePractise:function(){this.practiseRatio=0,this.practiseRightTimes=0,this.practiseWrongTimes=0,this.oncePractiseCount=0,this.openPractise=!1,this.continueFight=!1,this.suggestWordsArray=[],this.practiseWordArray=[],this.getList(),this.getNewWordCollect(),this.listNewWordChallenge(),this.clock&&window.clearInterval(this.clock)},closeList:function(){this.openList=!1,this.queryParams.word=""},handleUpdate:function(t){var e=this;this.reset();var a=t.id||this.ids;Object(f["f"])(a).then((function(t){e.form=t.data,e.open=!0,e.title="修改生词"}))},handleDelete:function(t){var e=this,a=t.id||this.ids;this.$confirm('是否确认删除生词编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(f["d"])(a)})).then((function(){e.getList(),e.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){this.download("study/newWords/export",Object(i["a"])({},this.queryParams),"study_newWords.xlsx")},querySuggest:function(t,e){var a=this;this.currentWord.exchange=null,this.currentWord.voice=null,!t||t.length<2?e(this.suggestWords):(this.queryParams.word=t,console.log(this.queryParams),Object(b["e"])(this.queryParams).then((function(t){a.suggestWords=t.rows,e(a.suggestWords)})))},playSound:function(){this.$refs.audio[0].play()},playSoundTale:function(t){this.$refs[t][0].play()},createIframe:function(t,e,a){var s=document.createElement("iframe");return s.style.width="800px",s.style.height="500px",s.style.scrolling="yes",s.style.border="none",a&&"[object Function]"===Object.prototype.toString.call(a)&&(s.attachEvent?s.attachEvent("onload",a):s.addEventListener?s.addEventListener("load",a):s.onload=a),s.src=e,t.appendChild(s),s},handleTest:function(){this.jumpUrl=this.$router.options.base+"/static/jump/index.html?userId=11",this.openTest=!0},sendMessage:function(){var t=document.getElementById("ifr1");t.contentWindow.postMessage({score:25,type:"scoreType"},"http://localhost")},callVueBack:function(){alert("callVueBack")},handleSetLineChartData:function(t){"newVisitis"==t&&this.$router.push({path:"/study/newWords"}),this.lineChartData=O[t]},listUsers:function(){var t=this;Object(y["f"])().then((function(e){t.userList=e.rows,t.openChallenge=!0,t.suspend=!0}))},handleSearchFriendForEnter:function(){},listFriends:function(){var t=this;"没有可练习的生词"==this.currentWord.word?(alert("没有可练习的生词"),this.hidePopover()):(this.queryFriendsParams.userId=this.$store.state.user.id,this.queryFriendsParams.status="S",this.queryFriendsParams.userName=this.userNameForSearch,Object(w["e"])(this.queryFriendsParams).then((function(e){t.userList=e.rows,t.openChallenge=!0,t.suspend=!0})))},chellengeUser:function(){var t=this;this.form.wordId=this.currentWord.wordId,this.$refs["formChellenge"].validate((function(e){e&&Object(f["a"])(t.form).then((function(e){200===e.code&&(t.msgSuccess("挑战成功"),t.suspend=!1,t.$refs.multipleTable.clearSelection(),t.openChallenge=!1)}))}))},hidePopover:function(){this.suspend=!1,this.openChallenge=!1,this.$refs.multipleTable.clearSelection()},closeFight:function(){this.openFight=!1},processFight:function(t){this.handlePractise(t)},fightAll:function(){this.fightTableData.length<=0&&this.msgError("没有可应战的生词！"),this.continueFight=!0,this.handlePractise(this.fightTableData[0].id)},failAll:function(){var t=this;for(var e in this.fightTableData)this.fightTableData[e].challengeStatus="F",this.fightTableData[e].challengeReply="举手投降",Object(f["e"])(this.fightTableData).then((function(e){200===e.code&&(t.msgSuccess("已投降"),t.fightTableData=[])}))},getListByStatus:function(t){this.queryParams.word="",this.queryParams.status=t,this.queryParams.challengeId=null,this.getList(),this.openList=!this.openList},nextPractiseFormatter:function(t,e){var a="";if(t.rightTimes>=t.reqCount)a="已消灭";else{var s=t.reqIntervalTimes-t.elapseTimes;a=s>0?s>=24?24==s?Math.floor(s/24)+"天后":Math.floor(s/24)+"天"+s%24+"小时后":s+"小时后":"现在可练习"}return a},handleSelectionChangeChallenge:function(t){this.multipleSelectionChallenge=t,this.form.challengeUserList=this.multipleSelectionChallenge},listCheckFriend:function(){var t=this;this.friend.friendId=this.$store.state.user.id,this.friend.status="N",Object(w["d"])(this.friend).then((function(e){""!=e.rows?(t.checkFriendCount=e.rows.length,t.checkFriendTableData=e.rows):(t.checkFriendCount=0,t.checkFriendTableData=[],t.openCheckFriend=!1)}))},addFriend:function(){this.openAddFriend=!0},searchUser:function(){var t=this;this.friend.userName=this.userNameForSearch,this.friend.status="",Object(y["f"])(this.friend).then((function(e){t.friendTableData=e.rows,t.friend.userId=t.$store.state.user.id,t.friend.friendId=e.rows[0].userId,t.currentFriendStatus="",t.currentFriendStatusTip="",Object(w["d"])(t.friend).then((function(e){e.rows.length>0?("N"==e.rows[0].status?t.currentFriendStatusTip="已经发出好友申请，请耐心等待":"S"==e.rows[0].status&&(t.currentFriendStatusTip="已经是好友关系"),t.currentFriendStatus=e.rows[0].status):(t.friend.userId=t.friend.friendId,t.friend.friendId=t.$store.state.user.id,Object(w["d"])(t.friend).then((function(e){e.rows.length>0&&("N"==e.rows[0].status?t.currentFriendStatusTip="对方已经发出好友申请，请审核通过即可":"S"==e.rows[0].status&&(t.currentFriendStatusTip="已经是好友关系"),t.currentFriendStatus=e.rows[0].status)})))}))}))},addFriendLast:function(t){var e=this;this.friend.userId=this.$store.state.user.id,this.friend.friendId=t,this.friend.status="N",Object(w["a"])(this.friend).then((function(t){200===t.code&&(e.msgSuccess("新增成功，请等待好友审核"),e.openAddFriend=!1)}))},checkFriend:function(){this.openCheckFriend=!0},checkFriendLast:function(t,e){var a=this;this.friend.id=t,this.friend.status=e,Object(w["f"])(this.friend).then((function(t){200===t.code&&(a.msgSuccess("处理成功"),a.listCheckFriend())}))},newWordSetting:function(){this.listSettingMemory(),this.listSettingTarget(),this.openNewWordSetting=!0},listSettingMemory:function(){var t=this;Object(x["e"])({settingType:"memory_method",userId:this.$store.state.user.id}).then((function(e){t.wordSettingMemory=e.rows}))},listSettingTarget:function(){var t=this;Object(x["e"])({settingType:"collect_target",userId:this.$store.state.user.id}).then((function(e){t.wordSettingTarget=e.rows}))},addMemory:function(){var t={};t.userId=this.$store.state.user.id,t.settingType="memory_method",t.settingName=this.wordSettingMemory.length+1,t.settingValue=0,t.status="T",this.wordSettingMemory.push(t)},delMemory:function(){this.wordSettingMemory.pop()},refreshMemory:function(){this.listSettingMemory()},addCollect:function(){var t={};t.userId=this.$store.state.user.id,t.settingType="collect_target";var e=new Date(this.wordSettingTarget[this.wordSettingTarget.length-1].settingName),a="";a=e.getMonth()>10?e.getFullYear()+1+"-01":e.getMonth()<=7?e.getFullYear()+"-0"+(e.getMonth()+2):e.getFullYear()+"-"+(e.getMonth()+2),t.settingName=a,t.settingValue=0,t.settingValueTwo=0,t.settingValueThree=0,t.status="T",this.wordSettingTarget.push(t)},delCollect:function(){this.wordSettingTarget.pop()},refreshCollect:function(){this.listSettingTarget()},saveSetting:function(){var t=this;Object(x["c"])(this.wordSettingMemory).then((function(e){200===e.code&&Object(x["c"])(t.wordSettingTarget).then((function(e){200===e.code?(t.msgSuccess("保存成功"),t.selectExpectActual(),t.openNewWordSetting=!1):t.msgError("保存失败")}))}))},toUserProfile:function(){this.openUserProfile=!0},addToMe:function(t){var e=this;this.form.wordId=t.wordId,this.form.userId=this.$store.state.user.id,this.form.status="A",this.form.wrongTimes=0,this.form.rightTimes=0,this.form.createBy=this.form.userId,Object(f["h"])({userId:this.$store.state.user.id,wordId:this.form.wordId}).then((function(t){t.rows.length>0?e.msgError("您已收集过此单词"):Object(f["b"])(e.form).then((function(t){200===t.code&&(e.msgSuccess("新增成功"),e.getList(),e.getNewWordCollect(),e.listNewWordChallenge(),e.open&&e.handleAdd())}))}))},getGradeDesc:function(){return this.allNum>=0&&this.allNum<=50?"青铜":this.allNum>50&&this.allNum<=200?"白银":this.allNum>200&&this.allNum<=500?"黄金":this.allNum>500&&this.allNum<=800?"铂金":this.allNum>800&&this.allNum<=1200?"钻石":this.allNum>1200&&this.allNum<=2e3?"星耀":this.allNum>2e3?"王者":void 0}},Object(o["a"])(s,"handleExport",(function(){this.download("study/newWords/export",Object(i["a"])({},this.queryParams),"user_".concat((new Date).getTime(),".xlsx"))})),Object(o["a"])(s,"selectRank",(function(){var t=this;this.openRank=!0,Object(f["n"])(null).then((function(e){t.ranks=e.rows}))})),Object(o["a"])(s,"handleRankClick",(function(){var t=this;"dead"==this.rankActiveName?Object(f["n"])("D").then((function(e){t.ranks=e.rows})):Object(f["n"])(null).then((function(e){t.ranks=e.rows}))})),Object(o["a"])(s,"checkValidTo",(function(){var t=Date.parse(new Date(this.validTo));return!(t>new Date)})),Object(o["a"])(s,"toPay",(function(){this.openPay=!0})),Object(o["a"])(s,"pay",(function(){if(""!=this.payType){this.payCode=!0,this.uuidForWeixin=k["a"].v1();new _.a("qrcode",{width:200,height:200,correctLevel:3,text:"https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx6c8d12d25b64c78f&redirect_uri=https%3A%2F%2F9f33960714.imdo.co%2Fauth%2FweChatPay&response_type=code&scope=snsapi_userinfo&state="+this.uuidForWeixin+"#wechat_redirect"})}else alert("请选择付费方式")})),Object(o["a"])(s,"changePay",(function(){"20"==this.payType?this.afterPayValidTo=this.$moment(Date.parse(new Date(this.validTo))).add(1,"months").format("YYYY-MM-DD HH:mm:ss"):"50"==this.payType?this.afterPayValidTo=this.$moment(Date.parse(new Date(this.validTo))).add(3,"months").format("YYYY-MM-DD HH:mm:ss"):"180"==this.payType?this.afterPayValidTo=this.$moment(Date.parse(new Date(this.validTo))).add(1,"years").format("YYYY-MM-DD HH:mm:ss"):"500"==this.payType&&(this.afterPayValidTo=this.$moment(Date.parse(new Date(this.validTo))).add(100,"years").format("YYYY-MM-DD HH:mm:ss"))})),Object(o["a"])(s,"logout",(function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.$confirm("确定注销并退出系统吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.$store.dispatch("LogOut").then((function(){location.href=t.$router.options.base+"/index"}))}));case 1:case"end":return e.stop()}}),e)})))()})),Object(o["a"])(s,"changeTitleTest",(function(t){this.titleTest=this.titleTest+t})),s),mounted:function(){var t=this;Object(f["g"])(30).then((function(e){e.rows.length>0&&(t.hotWordsData=e.rows)})),this.outDateFlag=this.checkValidTo();var e=this;window.addEventListener("message",(function(t){e.titleTest=e.titleTest+t.data.score,console.log("监听子页面向父页面的传参",t.data)}))}},D=W,j=(a("87af"),a("2877")),N=Object(j["a"])(D,r,n,!1,null,"3f673d85",null);e["default"]=N.exports},"4c1b":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:6,xs:24}},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("个人信息")])]),a("div",[a("div",{staticClass:"text-center"},[a("userAvatar",{attrs:{user:t.user}})],1),a("ul",{staticClass:"list-group list-group-striped"},[a("li",{staticClass:"list-group-item"},[a("svg-icon",{attrs:{"icon-class":"user"}}),t._v("用户名称 "),a("div",{staticClass:"pull-right"},[t._v(t._s(t.user.userName))])],1),a("li",{staticClass:"list-group-item"},[a("svg-icon",{attrs:{"icon-class":"phone"}}),t._v("手机号码 "),a("div",{staticClass:"pull-right"},[t._v(t._s(t.user.phonenumber))])],1),a("li",{staticClass:"list-group-item"},[a("svg-icon",{attrs:{"icon-class":"email"}}),t._v("用户邮箱 "),a("div",{staticClass:"pull-right"},[t._v(t._s(t.user.email))])],1),a("li",{staticClass:"list-group-item"},[a("svg-icon",{attrs:{"icon-class":"tree"}}),t._v("所属部门 "),t.user.dept?a("div",{staticClass:"pull-right"},[t._v(t._s(t.user.dept.deptName)+" / "+t._s(t.postGroup))]):t._e()],1),a("li",{staticClass:"list-group-item"},[a("svg-icon",{attrs:{"icon-class":"peoples"}}),t._v("所属角色 "),a("div",{staticClass:"pull-right"},[t._v(t._s(t.roleGroup))])],1),a("li",{staticClass:"list-group-item"},[a("svg-icon",{attrs:{"icon-class":"date"}}),t._v("创建日期 "),a("div",{staticClass:"pull-right"},[t._v(t._s(t.user.createTime))])],1)])])])],1),a("el-col",{attrs:{span:18,xs:24}},[a("el-card",[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("基本资料")])]),a("el-tabs",{model:{value:t.activeTab,callback:function(e){t.activeTab=e},expression:"activeTab"}},[a("el-tab-pane",{attrs:{label:"基本资料",name:"userinfo"}},[a("userInfo",{attrs:{user:t.user}})],1),a("el-tab-pane",{attrs:{label:"修改密码",name:"resetPwd"}},[a("resetPwd",{attrs:{user:t.user}})],1)],1)],1)],1)],1)],1)},r=[],n=a("9429"),i=a("1e8b"),l=a("ee46"),o=a("c0c7"),c={name:"Profile",components:{userAvatar:n["default"],userInfo:i["default"],resetPwd:l["default"]},data:function(){return{user:{},roleGroup:{},postGroup:{},activeTab:"userinfo"}},created:function(){this.getUser()},methods:{getUser:function(){var t=this;Object(o["e"])().then((function(e){t.user=e.data,t.roleGroup=e.roleGroup,t.postGroup=e.postGroup}))}}},u=c,d=a("2877"),h=Object(d["a"])(u,s,r,!1,null,null,null);e["default"]=h.exports},6303:function(t,e,a){"use strict";var s=a("6a82"),r=a.n(s);r.a},"65ce":function(t,e,a){"use strict";a.d(e,"d",(function(){return r})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){return i})),a.d(e,"f",(function(){return l})),a.d(e,"b",(function(){return o})),a.d(e,"e",(function(){return c}));var s=a("b775");function r(t){return Object(s["a"])({url:"/study/englishWords/list",method:"get",params:t})}function n(t){return Object(s["a"])({url:"/study/englishWords/"+t,method:"get"})}function i(t){return Object(s["a"])({url:"/study/englishWords",method:"post",data:t})}function l(t){return Object(s["a"])({url:"/study/englishWords",method:"put",data:t})}function o(t){return Object(s["a"])({url:"/study/englishWords/"+t,method:"delete"})}function c(t){return Object(s["a"])({url:"/study/englishWords/listSuggest",method:"get",params:t})}},"6a82":function(t,e,a){},"6cbb":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules,"label-width":"80px"},nativeOn:{submit:function(t){t.preventDefault()}}},[a("el-form-item",{attrs:{label:"请输入生词","label-width":"130px"}},[a("el-autocomplete",{ref:"autocomplete",staticClass:"inline-input",attrs:{"fetch-suggestions":t.querySuggest,placeholder:"请输入内容","value-key":"word"},on:{select:t.handleSelect},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleSelectForEnter(e)}},model:{value:t.form.word,callback:function(e){t.$set(t.form,"word",e)},expression:"form.word"}}),t._v(" "),""!=t.addButtonTip?a("span",[a("el-tag",{attrs:{type:"danger"}},[t._v("已存在")])],1):t._e()],1),this.currentWord.voice?a("el-card",{staticClass:"box-card2"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("el-tag",[t._v("读音")])],1),t._l(this.currentWord.voice,(function(e,s,r){return a("span",{staticClass:"text item"},[e&&"ph_en"==s?a("span",[t._v(" 英["+t._s(e)+" ] ")]):t._e(),e&&"ph_en_mp3"==s?a("span",[a("i",{staticClass:"el-icon-headset",on:{click:function(e){return t.playSound()}}}),a("audio",{ref:"audio",refInFor:!0,staticClass:"audioClass",attrs:{controls:"controls",hidden:"",src:e}})]):t._e()])}))],2):t._e(),this.currentWord.exchange?a("el-card",{staticClass:"box-card2"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("el-tag",[t._v("含义")])],1),t._l(this.currentWord.meansList,(function(e,s){return a("div",{staticClass:"text item"},[a("span",[a("font",{staticStyle:{color:"green"}},[t._v(t._s(e.posName))]),t._v(" "+t._s(e.means)+" "),a("br")],1)])}))],2):t._e(),this.currentWord.exchange?a("el-card",{staticClass:"box-card2"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("el-tag",[t._v("转换")])],1),t._l(this.currentWord.exchange,(function(e,s,r){return a("span",{staticClass:"text item"},[e&&"word_third"==s?a("span",[t._v(" 第三人称单数:"+t._s(e)+" ")]):t._e(),e&&"word_ing"==s?a("span",[t._v(" 现在分词:"+t._s(e)+" ")]):t._e(),e&&"word_past"==s?a("span",[t._v(" 过去式:"+t._s(e)+" ")]):t._e(),e&&"word_done"==s?a("span",[t._v(" 过去分词:"+t._s(e)+" ")]):t._e()])}))],2):t._e()],1),a("div",{staticStyle:{align:"right"}},[a("div",{staticStyle:{"margin-top":"60px","margin-left":"380px"},attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",disabled:t.addButtonDisabled},on:{click:t.submitForm}},[t._v("确 定")])],1)])],1)},r=[],n=(a("d81d"),a("ec1b"),a("eab4"),a("0a5c"),a("d153"),a("9488"),a("4c1b")),i=a("d13d"),l=a("65ce"),o=(a("bf8d"),a("c0c7"),a("bbf2"),a("17d9"),a("d044"),a("9612"),{name:"AddNewWord",components:{Profile:n["default"]},data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,showSearch:!0,total:0,newWordsList:[],title:"",titlePractise:"",open:!1,openList:!1,suggestWords:[],currentWord:{},addButtonTip:"",addButtonDisabled:!1,queryParams:{id:null,pageNum:1,pageSize:10,userId:null,wordId:null,status:null,wrongTimes:null,rightTimes:null,lastRigthTime:null,word:null,challengeId:null,challengeStatus:""},form:{},rules:{wordId:[{pattern:/^[0-9]*$/,message:"请输入生词"}]}}},created:function(){},methods:{cancel:function(){this.open=!1,this.reset(),this.$emit("cancel")},reset:function(){this.form={id:null,userId:this.$store.state.user.id,wordId:0,status:"A",wrongTimes:0,rightTimes:0,lastRigthTime:null,createBy:this.$store.state.user.id,createTime:null,updateBy:this.$store.state.user.id,updateTime:null,remark:null,challengeUserList:[],challengePut:""},this.resetForm("form"),this.addButtonTip=""},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(t){this.ids=t.map((function(t){return t.id})),this.single=1!==t.length,this.multiple=!t.length},handleAdd:function(){var t=this;this.reset(),this.currentWord={},this.suggestWords=[],this.$nextTick((function(){t.$refs.autocomplete.focus()}))},submitForm:function(){var t=this;this.$refs["form"].validate((function(e){t.form.userId=t.$store.state.user.id,e&&(t.form.wordId>0?Object(i["b"])(t.form).then((function(e){200===e.code&&(t.msgSuccess("新增成功"),t.handleAdd())})):alert("请输入生词"))}))},querySuggest:function(t,e){var a=this;t&&""!=t||(this.form.wordId=0,e(this.suggestWords)),this.currentWord.exchange=null,this.currentWord.voice=null,!t||t.length<2?e(this.suggestWords):(this.queryParams.word=t,console.log(this.queryParams),Object(l["e"])(this.queryParams).then((function(t){a.suggestWords=t.rows,a.suggestWords.sort((function(t,e){return t.word.length-e.word.length})),e(a.suggestWords)})))},handleSelect:function(t){var e=this;console.log(t),this.currentWord=t,this.currentWord.exchange=JSON.parse(this.currentWord.exchange),this.currentWord.voice=JSON.parse(this.currentWord.voice),this.form.wordId=t.id,Object(i["h"])({userId:this.form.userId,wordId:this.form.wordId}).then((function(t){t.rows.length>0?(e.addButtonDisabled=!0,e.addButtonTip="已存在生词列表中，请不要重复添加"):(e.addButtonDisabled=!1,e.addButtonTip="")}))},handleSelectForEnter:function(){var t=this;for(var e in this.suggestWords)this.suggestWords[e].word==this.queryParams.word&&this.handleSelect(this.suggestWords[e]);this.$refs.autocomplete.suggestions=[],Object(i["h"])({userId:this.form.userId,wordId:this.form.wordId}).then((function(e){e.rows.length>0?(t.addButtonDisabled=!0,t.addButtonTip="已存在生词列表中，请不要重复添加"):(t.addButtonDisabled=!1,t.addButtonTip="")}))},playSound:function(){this.$refs.audio[0].play()},playSoundTale:function(t){this.$refs[t][0].play()}},mounted:function(){}}),c=o,u=(a("6303"),a("2877")),d=Object(u["a"])(c,s,r,!1,null,"f88fc32c",null);e["default"]=d.exports},"78be":function(t,e,a){},"7d9f":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{attrs:{slot:"title"},slot:"title"},[a("div")]),a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:8,align:"right"}},[a("el-popover",{attrs:{placement:"right",width:"400",trigger:"click"},on:{hide:t.hidePopover},model:{value:t.openChallenge,callback:function(e){t.openChallenge=e},expression:"openChallenge"}},[a("el-form",{ref:"formChellenge",attrs:{model:t.form,rules:t.rules,"label-width":"80px"},nativeOn:{submit:function(t){t.preventDefault()}}},[a("el-divider",[a("i",{staticClass:"el-icon-mobile-phone"})]),a("el-input",{staticStyle:{"margin-bottom":"15px"},attrs:{placeholder:"输入好友名称/昵称回车键搜索",clearable:"",size:"small"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.listFriends(e)}},model:{value:t.userNameForSearch,callback:function(e){t.userNameForSearch=e},expression:"userNameForSearch"}}),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.userList,"tooltip-effect":"dark"},on:{"selection-change":t.handleSelectionChangeChallenge}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{label:"姓名"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tag",[t._v(t._s(e.row.userName)+" ")])]}}])}),a("el-table-column",{attrs:{label:"昵称"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.nickName)+" ")]}}])})],1),a("el-input",{staticStyle:{"margin-top":"15px","margin-bottom":"10px"},attrs:{placeholder:"挑战留言"},model:{value:t.form.challengePut,callback:function(e){t.$set(t.form,"challengePut",e)},expression:"form.challengePut"}}),a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-position"},on:{click:t.chellengeUser}},[t._v("发起")]),a("el-button",{attrs:{size:"small",type:"info",icon:"el-icon-s-release"},on:{click:t.hidePopover}},[t._v("取消")])],1),a("el-button",{staticStyle:{"margin-bottom":"15px"},attrs:{slot:"reference",icon:"el-icon-share",type:"primary"},on:{click:t.listFriends},slot:"reference"},[t._v("挑战好友")])],1),a("el-button",{staticStyle:{"margin-left":"15px","margin-top":"8px"},attrs:{icon:"el-icon-error"},on:{click:t.closePractise}},[t._v("结束练习")])],1),a("el-col",{attrs:{span:8,offset:8,align:"right"}},[a("el-button",{staticStyle:{"margin-top":"8px"},attrs:{type:"success",icon:"el-icon-check"}},[t._v(" "+t._s(t.practiseRightTimes)+" ")]),a("el-button",{staticStyle:{"margin-left":"15px"},attrs:{type:"danger",icon:"el-icon-close"}},[t._v(" "+t._s(t.practiseWrongTimes)+" ")])],1)],1),a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:18,align:"middle"}},[a("el-card",{attrs:{shadow:"always","body-style":"{ padding: '10px' }"}},[a("span",{style:t.wordStyle},[t._v(" "+t._s(this.currentWord.word)+" ")])])],1),a("el-col",{attrs:{span:6,align:"right"}},[a("el-progress",{staticClass:"elprogress",attrs:{percentage:t.practiseRatio,type:"circle",width:100,format:t.format}})],1)],1),t.challengeReplyShow?a("el-row",{attrs:{gutter:22}},[a("el-col",{attrs:{span:12}},[a("el-tag",{attrs:{effect:"plain"}},[t._v("挑战者说")]),t._v(" "+t._s(this.currentWord.challengePut)+" ")],1)],1):t._e(),t.challengeReplyShow?a("el-row",{staticStyle:{"margin-top":"5px"}},[a("el-col",[a("el-input",{attrs:{placeholder:"我的回复",size:"15"},model:{value:t.challengeReply,callback:function(e){t.challengeReply=e},expression:"challengeReply"}})],1)],1):t._e(),a("el-progress",{attrs:{percentage:t.countDownRatio,status:t.countDownStatus}}),a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:24}},t._l(this.suggestWords,(function(e,s){return a("div",{staticStyle:{display:"flex"}},[a("el-card",{staticClass:"box-card",nativeOn:{click:function(a){return t.checkAnswer(e,s)}}},t._l(e.meansList,(function(s,r){return a("span",{staticStyle:{"margin-left":"2px"}},[r!=e.meansList.length-1?a("span",[a("font",{staticStyle:{color:"green"}},[t._v(t._s(s.posName))]),t._v(" "+t._s(s.means)+" "),a("br"),a("br")],1):t._e(),r==e.meansList.length-1?a("span",[a("font",{staticStyle:{color:"green"}},[t._v(t._s(s.posName))]),t._v(" "+t._s(s.means)+" ")],1):t._e()])})),0)],1)})),0)],1)],1)},r=[],n=(a("a434"),a("5530")),i=(a("96cf"),a("1da1")),l=a("ade3"),o=(a("ec1b"),a("eab4"),a("0a5c"),a("d153"),a("9488"),a("4c1b")),c=a("d13d"),u=a("65ce"),d=a("bf8d"),h=(a("c0c7"),a("bbf2")),p=(a("17d9"),a("d044"),a("9612"),{name:"PractiseNewWord",components:{Profile:o["default"]},data:function(){var t;return t={loading:!0,ids:[],single:!0,multiple:!0,showSearch:!0,total:0,newWordsList:[],title:"",titlePractise:"",open:!1,openList:!1,openTest:!1,queryParams:{id:null,pageNum:1,pageSize:10,userId:null,wordId:null,status:null,wrongTimes:null,rightTimes:null,lastRigthTime:null,word:null,challengeId:null,challengeStatus:""},queryFriendsParams:{userId:null,friendId:null,status:null,userName:null},form:{},rules:{},suggestWords:[],currentWord:{},wordStyle:"margin: 20px;color:black;font-size:58px;font-family:Arial;",english1:["a","b","c","d","e","f","g","h","i","g","k","l","m","n"],english2:["o","p","q","r","s","t","u","v","w","x","y","z"],practiseType:!1,practiseRatio:0,practiseRightTimes:0,practiseWrongTimes:0,practiseWordStatus:"A",countDown:60,countDownRatio:100,countDownStatus:"success",clock:null,userList:[],challengeUserList:[],challengePut:"",openChallenge:!1,openFight:!1,suspend:!1,fightTableData:[],challengeNum:0,challengeReply:"",challengeReplyShow:!1,continueFight:!1,multipleSelectionChallenge:[],userNameForSearch:"",friendTableData:[],titleAddFriend:"添加好友",titleCheckFriend:"审核好友",titleNewWordSetting:"生词设置",openAddFriend:!1,openCheckFriend:!1,openNewWordSetting:!1,friend:{}},Object(l["a"])(t,"userNameForSearch",""),Object(l["a"])(t,"currentFriendStatus",""),Object(l["a"])(t,"currentFriendStatusTip",""),Object(l["a"])(t,"checkFriendCount",""),Object(l["a"])(t,"checkFriendTableData",[]),Object(l["a"])(t,"activeNames",["1","2"]),Object(l["a"])(t,"practiseWordArray",[]),Object(l["a"])(t,"suggestWordsArray",[]),Object(l["a"])(t,"oncePractiseCount",0),Object(l["a"])(t,"overTime",!1),t},created:function(){},methods:{getList:function(){var t=this;this.loading=!0,this.queryParams.userId=this.$store.state.user.id,Object(c["h"])(this.queryParams).then((function(e){for(var a in t.newWordsList=e.rows,e.rows)e.rows[a].voice=JSON.parse(e.rows[a].voice);t.total=e.total,t.loading=!1}))},selectChallengeCollect:function(){var t=this;Object(c["j"])(this.$store.state.user.id,"challenge").then((function(e){var a=[],s=[],r=[],n=[];for(var i in e.rows)a.push(e.rows[i].yearMonth),s.push(e.rows[i].challengeNum),r.push(e.rows[i].challengePassNum),n.push(e.rows[i].challengeFailNum);t.barData.xaxis=a;var l={name:"应战数",type:"bar",stack:"vistors",barWidth:"60%",data:s,animationDuration:6e3},o={name:"应战成功数",type:"bar",stack:"vistors",barWidth:"60%",data:r,animationDuration:6e3},c={name:"应战失败数",type:"bar",stack:"vistors",barWidth:"60%",data:n,animationDuration:6e3};t.barData={xaxis:a,series:[l,o,c]}}))},cancel:function(){this.open=!1,this.reset()},format:function(t){return"正确率".concat(t,"%")},reset:function(){this.form={id:null,userId:this.$store.state.user.id,wordId:null,status:"A",wrongTimes:0,rightTimes:0,lastRigthTime:null,createBy:this.$store.state.user.id,createTime:null,updateBy:this.$store.state.user.id,updateTime:null,remark:null,challengeUserList:[],challengePut:""},this.resetForm("form")},handlePractise:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var s,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(alert("fwefew"),e.reset(),e.countDown=60,e.countDownRatio=100,e.countDownStatus="success",e.currentWord={},e.suggestWords=[],e.openPractise=!0,e.queryParams.challengeStatus=null,e.queryParams.word="",e.queryParams.status=e.practiseWordStatus,e.wordStyle="margin-left: 10px;color:black;font-size:58px;font-family:Arial",e.overTime=!1,e.title="练习生词",t>0?(e.queryParams.id=t,e.queryParams.challengeId=e.$store.state.user.id,e.queryParams.challengeStatus="E",e.queryParams.userId=null,e.queryParams.status=null,e.challengeReplyShow=!0):(e.queryParams.id=null,e.queryParams.challengeId=null,e.queryParams.challengeStatus="",e.queryParams.userId=e.$store.state.user.id,e.queryParams.status="A",e.challengeReplyShow=!1),!1,s=!0,!(e.practiseWordArray.length<=0)){a.next=22;break}return a.next=20,Object(c["i"])(e.queryParams).then((function(t){if(t.rows.length<=0)return s=!1,e.currentWord.word="没有可练习的生词",e.suspend=!0,void e.$forceUpdate();t.rows.length>0&&(!0,s=!0,e.oncePractiseCount++,e.practiseWordArray=t.rows,e.currentWord=e.practiseWordArray.pop(),e.currentWord.result="info")}));case 20:a.next=27;break;case 22:!0,s=!0,e.oncePractiseCount++,e.currentWord=e.practiseWordArray.pop(),e.currentWord.result="info";case 27:if(s&&(e.clock&&window.clearInterval(e.clock),e.clock=window.setInterval((function(){if(e.suspend||(e.countDown--,e.countDownRatio=Math.floor(e.countDown/60*100),e.countDownRatio<=40?e.countDownStatus="exception":e.countDownRatio<=70&&(e.countDownStatus="warning")),e.countDown<=1){window.clearInterval(e.clock);var t=JSON.parse(JSON.stringify(e.currentWord));t.word="abdfs",e.overTime=!0,e.checkAnswer(t,-1)}}),1e3)),!s){a.next=36;break}if(!(e.suggestWordsArray.length<=0||e.oncePractiseCount>10)){a.next=33;break}return console.log(e.queryParams),a.next=33,Object(u["e"])(e.queryParams).then((function(t){e.suggestWordsArray=t.rows}));case 33:for(r=0;r<4;r++)e.suggestWords[r]=e.suggestWordsArray[Math.round(40*Math.random())],e.suggestWords[r].result="";e.suggestWords[parseInt(Math.random()*(e.suggestWords.length-1-0+1)+0)]=e.currentWord,e.currentWord.result="";case 36:case"end":return a.stop()}}),a)})))()},checkAnswer:function(t,e){var a=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var s,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.word==a.currentWord.word?(t.result="success",a.wordStyle="margin-left: 10px;color:green;font-size:68px;"):(t.result="danger",a.wordStyle="margin-left: 10px;color:red;font-size:68px;"),s>=0&&(t.editable=!0,a.$set(a.suggestWords,s,t)),null!=a.queryParams.id&&(t.challengeReply=a.challengeReply,t.challengeStatus="success"==t.result?"S":"F"),t.newWordsId=a.currentWord.id,t.userId=a.$store.state.user.id,Object(d["a"])(t).then((function(e){200===e.code&&("success"==t.result?(a.practiseRightTimes++,a.msgSuccess("恭喜答对了！")):(a.practiseWrongTimes++,a.msgError("不好意思答错了！！！")),a.practiseRatio=Math.floor(a.practiseRightTimes/(a.practiseRightTimes+a.practiseWrongTimes)*100))})),null==a.queryParams.id){e.next=11;break}for(s in a.fightTableData)a.fightTableData[s].id==a.queryParams.id&&(a.fightTableData.splice(s,1),s--);a.fightTableData.length>0&&a.continueFight?setTimeout((function(){a.handlePractise(a.fightTableData[0].id)}),500):a.closePractise(),e.next=18;break;case 11:if(!a.overTime){e.next=17;break}return r=a,e.next=15,a.$alert("点击确定继续练习","已超时",{confirmButtonText:"确定",callback:function(t){setTimeout((function(){r.handlePractise(0)}),500)}});case 15:e.next=18;break;case 17:setTimeout((function(){a.handlePractise(0)}),500);case 18:case"end":return e.stop()}}),e)})))()},closePractise:function(){alert("fwe"),this.$emit("closePractise")},closeList:function(){this.openList=!1,this.queryParams.word=""},handleExport:function(){this.download("study/newWords/export",Object(n["a"])({},this.queryParams),"study_newWords.xlsx")},querySuggest:function(t,e){var a=this;this.currentWord.exchange=null,this.currentWord.voice=null,!t||t.length<2?e(this.suggestWords):(this.queryParams.word=t,console.log(this.queryParams),Object(u["e"])(this.queryParams).then((function(t){a.suggestWords=t.rows,e(a.suggestWords)})))},playSound:function(){this.$refs.audio[0].play()},playSoundTale:function(t){this.$refs[t][0].play()},listFriends:function(){var t=this;"没有可练习的生词"==this.currentWord.word?(alert("没有可练习的生词"),this.hidePopover()):(this.queryFriendsParams.userId=this.$store.state.user.id,this.queryFriendsParams.status="S",this.queryFriendsParams.userName=this.userNameForSearch,Object(h["e"])(this.queryFriendsParams).then((function(e){t.userList=e.rows,t.openChallenge=!0,t.suspend=!0})))},chellengeUser:function(){var t=this;this.form.wordId=this.currentWord.wordId,this.$refs["formChellenge"].validate((function(e){e&&Object(c["a"])(t.form).then((function(e){200===e.code&&(t.msgSuccess("挑战成功"),t.suspend=!1,t.$refs.multipleTable.clearSelection(),t.openChallenge=!1)}))}))},hidePopover:function(){this.suspend=!1,this.openChallenge=!1,this.$refs.multipleTable.clearSelection()},closeFight:function(){this.openFight=!1},processFight:function(t){this.handlePractise(t)},fightAll:function(){this.fightTableData.length<=0&&this.msgError("没有可应战的生词！"),this.continueFight=!0,this.handlePractise(this.fightTableData[0].id)},failAll:function(){var t=this;for(var e in this.fightTableData)this.fightTableData[e].challengeStatus="F",this.fightTableData[e].challengeReply="举手投降",Object(c["e"])(this.fightTableData).then((function(e){200===e.code&&(t.msgSuccess("已投降"),t.fightTableData=[])}))},nextPractiseFormatter:function(t,e){var a="";if(t.rightTimes>=t.reqCount)a="已消灭";else{var s=t.reqIntervalTimes-t.elapseTimes;a=s>0?s>=24?24==s?Math.floor(s/24)+"天后":Math.floor(s/24)+"天"+s%24+"小时后":s+"小时后":"现在可练习"}return a},handleSelectionChangeChallenge:function(t){this.multipleSelectionChallenge=t,this.form.challengeUserList=this.multipleSelectionChallenge}},mounted:function(){}}),m=p,g=(a("ab0a"),a("2877")),f=Object(g["a"])(m,s,r,!1,null,"0f0cbda0",null);e["default"]=f.exports},"7f7a":function(t,e,a){"use strict";var s=a("78be"),r=a.n(s);r.a},"87af":function(t,e,a){"use strict";var s=a("c2c6"),r=a.n(s);r.a},9287:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-dialog",{attrs:{title:t.titlePractise,visible:t.openPractise,width:"850px","show-close":!1,"custom-class":"practiseDialog2"},on:{"update:visible":function(e){t.openPractise=e},close:t.closePractise}},[a("div",{attrs:{slot:"title"},slot:"title"},[a("div")]),a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:8,align:"right"}},[a("el-popover",{attrs:{placement:"right",width:"400",trigger:"click"},on:{hide:t.hidePopover},model:{value:t.openChallenge,callback:function(e){t.openChallenge=e},expression:"openChallenge"}},[a("el-form",{ref:"formChellenge",attrs:{model:t.form,rules:t.rules,"label-width":"80px"},nativeOn:{submit:function(t){t.preventDefault()}}},[a("el-divider",[a("i",{staticClass:"el-icon-mobile-phone"})]),a("el-input",{staticStyle:{"margin-bottom":"15px"},attrs:{placeholder:"输入好友名称/昵称回车键搜索",clearable:"",size:"small"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.listFriends(e)}},model:{value:t.userNameForSearch,callback:function(e){t.userNameForSearch=e},expression:"userNameForSearch"}}),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.userList,"tooltip-effect":"dark"},on:{"selection-change":t.handleSelectionChangeChallenge}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{label:"姓名"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tag",[t._v(t._s(e.row.userName)+" ")])]}}])}),a("el-table-column",{attrs:{label:"昵称"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.nickName)+" ")]}}])})],1),a("el-input",{staticStyle:{"margin-top":"15px","margin-bottom":"10px"},attrs:{placeholder:"挑战留言"},model:{value:t.form.challengePut,callback:function(e){t.$set(t.form,"challengePut",e)},expression:"form.challengePut"}}),a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-position"},on:{click:t.chellengeUser}},[t._v("发起")]),a("el-button",{attrs:{size:"small",type:"info",icon:"el-icon-s-release"},on:{click:t.hidePopover}},[t._v("取消")])],1),a("el-button",{staticStyle:{"margin-bottom":"15px"},attrs:{slot:"reference",icon:"el-icon-share",type:"primary"},on:{click:t.listFriends},slot:"reference"},[t._v("挑战好友")])],1),a("el-button",{staticStyle:{"margin-left":"15px","margin-top":"8px"},attrs:{icon:"el-icon-error"},on:{click:t.closePractise}},[t._v("结束练习")])],1),a("el-col",{attrs:{span:8,offset:8,align:"right"}},[a("el-button",{staticStyle:{"margin-top":"8px"},attrs:{type:"success",icon:"el-icon-check"}},[t._v(" "+t._s(t.practiseRightTimes)+" ")]),a("el-button",{staticStyle:{"margin-left":"15px"},attrs:{type:"danger",icon:"el-icon-close"}},[t._v(" "+t._s(t.practiseWrongTimes)+" ")])],1)],1),a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:18,align:"middle"}},[a("el-card",{attrs:{shadow:"always","body-style":"{ padding: '10px' }"}},[a("span",{style:t.wordStyle},[t._v(" "+t._s(this.currentWord.word)+" ")])])],1),a("el-col",{attrs:{span:6,align:"right"}},[a("el-progress",{staticClass:"elprogress",attrs:{percentage:t.practiseRatio,type:"circle",width:100,format:t.format}})],1)],1),t.challengeReplyShow?a("el-row",{attrs:{gutter:22}},[a("el-col",{attrs:{span:12}},[a("el-tag",{attrs:{effect:"plain"}},[t._v("挑战者说")]),t._v(" "+t._s(this.currentWord.challengePut)+" ")],1)],1):t._e(),t.challengeReplyShow?a("el-row",{staticStyle:{"margin-top":"5px"}},[a("el-col",[a("el-input",{attrs:{placeholder:"我的回复",size:"15"},model:{value:t.challengeReply,callback:function(e){t.challengeReply=e},expression:"challengeReply"}})],1)],1):t._e(),a("el-progress",{attrs:{percentage:t.countDownRatio,status:t.countDownStatus}}),a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:24}},t._l(this.suggestWords,(function(e,s){return a("div",{staticStyle:{display:"flex"}},[a("el-card",{staticClass:"box-card",nativeOn:{click:function(a){return t.checkAnswer(e,s)}}},t._l(e.meansList,(function(s,r){return a("span",{staticStyle:{"margin-left":"2px"}},[r!=e.meansList.length-1?a("span",[a("font",{staticStyle:{color:"green"}},[t._v(t._s(s.posName))]),t._v(" "+t._s(s.means)+" "),a("br"),a("br")],1):t._e(),r==e.meansList.length-1?a("span",[a("font",{staticStyle:{color:"green"}},[t._v(t._s(s.posName))]),t._v(" "+t._s(s.means)+" ")],1):t._e()])})),0)],1)})),0)],1)],1)],1)},r=[],n=(a("a434"),a("5530")),i=(a("96cf"),a("1da1")),l=a("ade3"),o=(a("ec1b"),a("eab4"),a("0a5c"),a("d153"),a("9488"),a("4c1b")),c=a("d13d"),u=a("65ce"),d=a("bf8d"),h=(a("c0c7"),a("bbf2")),p=(a("17d9"),a("d044"),a("9612"),{name:"PractiseNewWord2",components:{Profile:o["default"]},data:function(){var t;return t={loading:!0,ids:[],single:!0,multiple:!0,showSearch:!0,total:0,newWordsList:[],title:"",titlePractise:""},Object(l["a"])(t,"titlePractise",""),Object(l["a"])(t,"open",!1),Object(l["a"])(t,"openList",!1),Object(l["a"])(t,"openPractise",!0),Object(l["a"])(t,"openTest",!1),Object(l["a"])(t,"queryParams",{id:null,pageNum:1,pageSize:10,userId:null,wordId:null,status:null,wrongTimes:null,rightTimes:null,lastRigthTime:null,word:null,challengeId:null,challengeStatus:""}),Object(l["a"])(t,"queryFriendsParams",{userId:null,friendId:null,status:null,userName:null}),Object(l["a"])(t,"form",{}),Object(l["a"])(t,"rules",{}),Object(l["a"])(t,"suggestWords",[]),Object(l["a"])(t,"currentWord",{}),Object(l["a"])(t,"wordStyle","margin: 20px;color:black;font-size:58px;font-family:Arial;"),Object(l["a"])(t,"english1",["a","b","c","d","e","f","g","h","i","g","k","l","m","n"]),Object(l["a"])(t,"english2",["o","p","q","r","s","t","u","v","w","x","y","z"]),Object(l["a"])(t,"practiseType",!1),Object(l["a"])(t,"practiseRatio",0),Object(l["a"])(t,"practiseRightTimes",0),Object(l["a"])(t,"practiseWrongTimes",0),Object(l["a"])(t,"practiseWordStatus","A"),Object(l["a"])(t,"countDown",60),Object(l["a"])(t,"countDownRatio",100),Object(l["a"])(t,"countDownStatus","success"),Object(l["a"])(t,"clock",null),Object(l["a"])(t,"userList",[]),Object(l["a"])(t,"challengeUserList",[]),Object(l["a"])(t,"challengePut",""),Object(l["a"])(t,"openChallenge",!1),Object(l["a"])(t,"openFight",!1),Object(l["a"])(t,"suspend",!1),Object(l["a"])(t,"fightTableData",[]),Object(l["a"])(t,"challengeNum",0),Object(l["a"])(t,"challengeReply",""),Object(l["a"])(t,"challengeReplyShow",!1),Object(l["a"])(t,"continueFight",!1),Object(l["a"])(t,"multipleSelectionChallenge",[]),Object(l["a"])(t,"userNameForSearch",""),Object(l["a"])(t,"friendTableData",[]),Object(l["a"])(t,"titleAddFriend","添加好友"),Object(l["a"])(t,"titleCheckFriend","审核好友"),Object(l["a"])(t,"titleNewWordSetting","生词设置"),Object(l["a"])(t,"openAddFriend",!1),Object(l["a"])(t,"openCheckFriend",!1),Object(l["a"])(t,"openNewWordSetting",!1),Object(l["a"])(t,"friend",{}),Object(l["a"])(t,"userNameForSearch",""),Object(l["a"])(t,"currentFriendStatus",""),Object(l["a"])(t,"currentFriendStatusTip",""),Object(l["a"])(t,"checkFriendCount",""),Object(l["a"])(t,"checkFriendTableData",[]),Object(l["a"])(t,"activeNames",["1","2"]),Object(l["a"])(t,"practiseWordArray",[]),Object(l["a"])(t,"suggestWordsArray",[]),Object(l["a"])(t,"oncePractiseCount",0),Object(l["a"])(t,"overTime",!1),t},created:function(){},methods:{getList:function(){var t=this;this.loading=!0,this.queryParams.userId=this.$store.state.user.id,Object(c["h"])(this.queryParams).then((function(e){for(var a in t.newWordsList=e.rows,e.rows)e.rows[a].voice=JSON.parse(e.rows[a].voice);t.total=e.total,t.loading=!1}))},selectChallengeCollect:function(){var t=this;Object(c["j"])(this.$store.state.user.id,"challenge").then((function(e){var a=[],s=[],r=[],n=[];for(var i in e.rows)a.push(e.rows[i].yearMonth),s.push(e.rows[i].challengeNum),r.push(e.rows[i].challengePassNum),n.push(e.rows[i].challengeFailNum);t.barData.xaxis=a;var l={name:"应战数",type:"bar",stack:"vistors",barWidth:"60%",data:s,animationDuration:6e3},o={name:"应战成功数",type:"bar",stack:"vistors",barWidth:"60%",data:r,animationDuration:6e3},c={name:"应战失败数",type:"bar",stack:"vistors",barWidth:"60%",data:n,animationDuration:6e3};t.barData={xaxis:a,series:[l,o,c]}}))},cancel:function(){this.open=!1,this.reset()},format:function(t){return"正确率".concat(t,"%")},reset:function(){this.form={id:null,userId:this.$store.state.user.id,wordId:null,status:"A",wrongTimes:0,rightTimes:0,lastRigthTime:null,createBy:this.$store.state.user.id,createTime:null,updateBy:this.$store.state.user.id,updateTime:null,remark:null,challengeUserList:[],challengePut:""},this.resetForm("form")},handlePractise:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var s,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(alert("fwefew"),e.reset(),e.countDown=60,e.countDownRatio=100,e.countDownStatus="success",e.currentWord={},e.suggestWords=[],e.openPractise=!0,e.queryParams.challengeStatus=null,e.queryParams.word="",e.queryParams.status=e.practiseWordStatus,e.wordStyle="margin-left: 10px;color:black;font-size:58px;font-family:Arial",e.overTime=!1,e.title="练习生词",t>0?(e.queryParams.id=t,e.queryParams.challengeId=e.$store.state.user.id,e.queryParams.challengeStatus="E",e.queryParams.userId=null,e.queryParams.status=null,e.challengeReplyShow=!0):(e.queryParams.id=null,e.queryParams.challengeId=null,e.queryParams.challengeStatus="",e.queryParams.userId=e.$store.state.user.id,e.queryParams.status="A",e.challengeReplyShow=!1),!1,s=!0,!(e.practiseWordArray.length<=0)){a.next=22;break}return a.next=20,Object(c["i"])(e.queryParams).then((function(t){if(t.rows.length<=0)return s=!1,e.currentWord.word="没有可练习的生词",e.suspend=!0,void e.$forceUpdate();t.rows.length>0&&(!0,s=!0,e.oncePractiseCount++,e.practiseWordArray=t.rows,e.currentWord=e.practiseWordArray.pop(),e.currentWord.result="info")}));case 20:a.next=27;break;case 22:!0,s=!0,e.oncePractiseCount++,e.currentWord=e.practiseWordArray.pop(),e.currentWord.result="info";case 27:if(s&&(e.clock&&window.clearInterval(e.clock),e.clock=window.setInterval((function(){if(e.suspend||(e.countDown--,e.countDownRatio=Math.floor(e.countDown/60*100),e.countDownRatio<=40?e.countDownStatus="exception":e.countDownRatio<=70&&(e.countDownStatus="warning")),e.countDown<=1){window.clearInterval(e.clock);var t=JSON.parse(JSON.stringify(e.currentWord));t.word="abdfs",e.overTime=!0,e.checkAnswer(t,-1)}}),1e3)),!s){a.next=36;break}if(!(e.suggestWordsArray.length<=0||e.oncePractiseCount>10)){a.next=33;break}return console.log(e.queryParams),a.next=33,Object(u["e"])(e.queryParams).then((function(t){e.suggestWordsArray=t.rows}));case 33:for(r=0;r<4;r++)e.suggestWords[r]=e.suggestWordsArray[Math.round(40*Math.random())],e.suggestWords[r].result="";e.suggestWords[parseInt(Math.random()*(e.suggestWords.length-1-0+1)+0)]=e.currentWord,e.currentWord.result="";case 36:case"end":return a.stop()}}),a)})))()},checkAnswer:function(t,e){var a=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var s,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.word==a.currentWord.word?(t.result="success",a.wordStyle="margin-left: 10px;color:green;font-size:68px;"):(t.result="danger",a.wordStyle="margin-left: 10px;color:red;font-size:68px;"),s>=0&&(t.editable=!0,a.$set(a.suggestWords,s,t)),null!=a.queryParams.id&&(t.challengeReply=a.challengeReply,t.challengeStatus="success"==t.result?"S":"F"),t.newWordsId=a.currentWord.id,t.userId=a.$store.state.user.id,Object(d["a"])(t).then((function(e){200===e.code&&("success"==t.result?(a.practiseRightTimes++,a.msgSuccess("恭喜答对了！")):(a.practiseWrongTimes++,a.msgError("不好意思答错了！！！")),a.practiseRatio=Math.floor(a.practiseRightTimes/(a.practiseRightTimes+a.practiseWrongTimes)*100))})),null==a.queryParams.id){e.next=11;break}for(s in a.fightTableData)a.fightTableData[s].id==a.queryParams.id&&(a.fightTableData.splice(s,1),s--);a.fightTableData.length>0&&a.continueFight?setTimeout((function(){a.handlePractise(a.fightTableData[0].id)}),500):a.closePractise(),e.next=18;break;case 11:if(!a.overTime){e.next=17;break}return r=a,e.next=15,a.$alert("点击确定继续练习","已超时",{confirmButtonText:"确定",callback:function(t){setTimeout((function(){r.handlePractise(0)}),500)}});case 15:e.next=18;break;case 17:setTimeout((function(){a.handlePractise(0)}),500);case 18:case"end":return e.stop()}}),e)})))()},closePractise:function(){this.practiseRatio=0,this.practiseRightTimes=0,this.practiseWrongTimes=0,this.oncePractiseCount=0,this.openPractise=!1,this.continueFight=!1,this.suggestWordsArray=[],this.practiseWordArray=[],this.getList(),this.getNewWordCollect(),this.listNewWordChallenge(),this.clock&&window.clearInterval(this.clock)},closeList:function(){this.openList=!1,this.queryParams.word=""},handleExport:function(){this.download("study/newWords/export",Object(n["a"])({},this.queryParams),"study_newWords.xlsx")},querySuggest:function(t,e){var a=this;this.currentWord.exchange=null,this.currentWord.voice=null,!t||t.length<2?e(this.suggestWords):(this.queryParams.word=t,console.log(this.queryParams),Object(u["e"])(this.queryParams).then((function(t){a.suggestWords=t.rows,e(a.suggestWords)})))},playSound:function(){this.$refs.audio[0].play()},playSoundTale:function(t){this.$refs[t][0].play()},listFriends:function(){var t=this;"没有可练习的生词"==this.currentWord.word?(alert("没有可练习的生词"),this.hidePopover()):(this.queryFriendsParams.userId=this.$store.state.user.id,this.queryFriendsParams.status="S",this.queryFriendsParams.userName=this.userNameForSearch,Object(h["e"])(this.queryFriendsParams).then((function(e){t.userList=e.rows,t.openChallenge=!0,t.suspend=!0})))},chellengeUser:function(){var t=this;this.form.wordId=this.currentWord.wordId,this.$refs["formChellenge"].validate((function(e){e&&Object(c["a"])(t.form).then((function(e){200===e.code&&(t.msgSuccess("挑战成功"),t.suspend=!1,t.$refs.multipleTable.clearSelection(),t.openChallenge=!1)}))}))},hidePopover:function(){this.suspend=!1,this.openChallenge=!1,this.$refs.multipleTable.clearSelection()},closeFight:function(){this.openFight=!1},processFight:function(t){this.handlePractise(t)},fightAll:function(){this.fightTableData.length<=0&&this.msgError("没有可应战的生词！"),this.continueFight=!0,this.handlePractise(this.fightTableData[0].id)},failAll:function(){var t=this;for(var e in this.fightTableData)this.fightTableData[e].challengeStatus="F",this.fightTableData[e].challengeReply="举手投降",Object(c["e"])(this.fightTableData).then((function(e){200===e.code&&(t.msgSuccess("已投降"),t.fightTableData=[])}))},nextPractiseFormatter:function(t,e){var a="";if(t.rightTimes>=t.reqCount)a="已消灭";else{var s=t.reqIntervalTimes-t.elapseTimes;a=s>0?s>=24?24==s?Math.floor(s/24)+"天后":Math.floor(s/24)+"天"+s%24+"小时后":s+"小时后":"现在可练习"}return a},handleSelectionChangeChallenge:function(t){this.multipleSelectionChallenge=t,this.form.challengeUserList=this.multipleSelectionChallenge}},props:{openPractise:{type:String,default:"false"}},mounted:function(){}}),m=p,g=(a("7f7a"),a("2877")),f=Object(g["a"])(m,s,r,!1,null,"14828bae",null);e["default"]=f.exports},9429:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("img",{staticClass:"img-circle img-lg",attrs:{src:t.options.img,title:"点击上传头像"},on:{click:function(e){return t.editCropper()}}}),a("el-dialog",{attrs:{title:t.title,visible:t.open,width:"800px","append-to-body":""},on:{"update:visible":function(e){t.open=e},opened:t.modalOpened}},[a("el-row",[a("el-col",{style:{height:"350px"},attrs:{xs:24,md:12}},[t.visible?a("vue-cropper",{ref:"cropper",attrs:{img:t.options.img,info:!0,autoCrop:t.options.autoCrop,autoCropWidth:t.options.autoCropWidth,autoCropHeight:t.options.autoCropHeight,fixedBox:t.options.fixedBox},on:{realTime:t.realTime}}):t._e()],1),a("el-col",{style:{height:"350px"},attrs:{xs:24,md:12}},[a("div",{staticClass:"avatar-upload-preview"},[a("img",{style:t.previews.img,attrs:{src:t.previews.url}})])])],1),a("br"),a("el-row",[a("el-col",{attrs:{lg:2,md:2}},[a("el-upload",{attrs:{action:"#","http-request":t.requestUpload,"show-file-list":!1,"before-upload":t.beforeUpload}},[a("el-button",{attrs:{size:"small"}},[t._v(" 上传 "),a("i",{staticClass:"el-icon-upload el-icon--right"})])],1)],1),a("el-col",{attrs:{lg:{span:1,offset:2},md:2}},[a("el-button",{attrs:{icon:"el-icon-plus",size:"small"},on:{click:function(e){return t.changeScale(1)}}})],1),a("el-col",{attrs:{lg:{span:1,offset:1},md:2}},[a("el-button",{attrs:{icon:"el-icon-minus",size:"small"},on:{click:function(e){return t.changeScale(-1)}}})],1),a("el-col",{attrs:{lg:{span:1,offset:1},md:2}},[a("el-button",{attrs:{icon:"el-icon-refresh-left",size:"small"},on:{click:function(e){return t.rotateLeft()}}})],1),a("el-col",{attrs:{lg:{span:1,offset:1},md:2}},[a("el-button",{attrs:{icon:"el-icon-refresh-right",size:"small"},on:{click:function(e){return t.rotateRight()}}})],1),a("el-col",{attrs:{lg:{span:2,offset:6},md:2}},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.uploadImg()}}},[t._v("提 交")])],1)],1)],1)],1)},r=[],n=(a("c975"),a("4360")),i=a("7e79"),l=a("c0c7"),o={components:{VueCropper:i["VueCropper"]},props:{user:{type:Object}},data:function(){return{open:!1,visible:!1,title:"修改头像",options:{img:n["a"].getters.avatar,autoCrop:!0,autoCropWidth:200,autoCropHeight:200,fixedBox:!0},previews:{}}},methods:{editCropper:function(){this.open=!0,this.options.img="";var t=this;this.setAvatarBase64(n["a"].getters.avatar,(function(e){alert(e),t.options.img=e}))},setAvatarBase64:function(t,e){var a=this,s=new Image;s.src=t,s.crossOrigin="*",s.onload=function(){var t=a.transBase64FromImage(s);e&&e(t)}},transBase64FromImage:function(t){var e=document.createElement("canvas");e.width=t.width,e.height=t.height;var a=e.getContext("2d");return a.drawImage(t,0,0,t.width,t.height),e.toDataURL("image/png")},modalOpened:function(){this.visible=!0},requestUpload:function(){},rotateLeft:function(){this.$refs.cropper.rotateLeft()},rotateRight:function(){this.$refs.cropper.rotateRight()},changeScale:function(t){t=t||1,this.$refs.cropper.changeScale(t)},beforeUpload:function(t){var e=this;if(-1==t.type.indexOf("image/"))this.msgError("文件格式错误，请上传图片类型,如：JPG，PNG后缀的文件。");else{var a=new FileReader;a.readAsDataURL(t),a.onload=function(){e.options.img=a.result}}},uploadImg:function(){var t=this;this.$refs.cropper.getCropBlob((function(e){var a=new FormData;a.append("avatarfile",e),Object(l["k"])(a).then((function(e){200===e.code&&(t.open=!1,t.options.img="/prod-api"+e.imgUrl,t.user.avatar=t.options.img,n["a"].commit("SET_AVATAR",t.options.img),t.msgSuccess("修改成功")),t.visible=!1}))}))},realTime:function(t){this.previews=t}}},c=o,u=a("2877"),d=Object(u["a"])(c,s,r,!1,null,null,null);e["default"]=d.exports},9488:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:t.className,style:{height:t.height,width:t.width}})},r=[],n=a("313e"),i=a.n(n),l=a("feb2");a("817d");var o={mixins:[l["default"]],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"300px"},chartData:{type:Object,required:!0}},data:function(){return{chart:null}},watch:{chartData:{deep:!0,handler:function(t){this.setOptions(t)}}},mounted:function(){var t=this;this.$nextTick((function(){t.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=i.a.init(this.$el,"macarons"),this.setOptions(this.chartData)},setOptions:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.xaxis,a=t.series;this.chart.setOption({tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{top:10,left:"2%",right:"2%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:e,axisTick:{alignWithLabel:!0}}],yAxis:[{type:"value",axisTick:{show:!1}}],series:a})}}},c=o,u=a("2877"),d=Object(u["a"])(c,s,r,!1,null,null,null);e["default"]=d.exports},ab0a:function(t,e,a){"use strict";var s=a("0852"),r=a.n(s);r.a},bf8d:function(t,e,a){"use strict";a.d(e,"d",(function(){return r})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){return i})),a.d(e,"e",(function(){return l})),a.d(e,"b",(function(){return o}));var s=a("b775");function r(t){return Object(s["a"])({url:"/study/newWordsRecords/list",method:"get",params:t})}function n(t){return Object(s["a"])({url:"/study/newWordsRecords/"+t,method:"get"})}function i(t){return Object(s["a"])({url:"/study/newWordsRecords",method:"post",data:t})}function l(t){return Object(s["a"])({url:"/study/newWordsRecords",method:"put",data:t})}function o(t){return Object(s["a"])({url:"/study/newWordsRecords/"+t,method:"delete"})}},c2c6:function(t,e,a){},d13d:function(t,e,a){"use strict";a.d(e,"h",(function(){return r})),a.d(e,"i",(function(){return n})),a.d(e,"m",(function(){return i})),a.d(e,"l",(function(){return l})),a.d(e,"k",(function(){return o})),a.d(e,"j",(function(){return c})),a.d(e,"f",(function(){return u})),a.d(e,"b",(function(){return d})),a.d(e,"d",(function(){return h})),a.d(e,"a",(function(){return p})),a.d(e,"g",(function(){return m})),a.d(e,"c",(function(){return g})),a.d(e,"e",(function(){return f})),a.d(e,"n",(function(){return b}));var s=a("b775");function r(t){return Object(s["a"])({url:"/study/newWords/list",method:"get",params:t})}function n(t){return Object(s["a"])({url:"/study/newWords/listRandom",method:"get",params:t})}function i(t){return Object(s["a"])({url:"/study/newWords/selectNewWordsCollect/"+t,method:"get"})}function l(t){return Object(s["a"])({url:"/study/newWords/selectFriendsDyn/"+t,method:"get"})}function o(t){return Object(s["a"])({url:"/study/newWords/selectExpectActual/"+t,method:"get"})}function c(t,e){return Object(s["a"])({url:"/study/newWords/selectChallengeCollect/"+t+"/"+e,method:"get"})}function u(t){return Object(s["a"])({url:"/study/newWords/"+t,method:"get"})}function d(t){return Object(s["a"])({url:"/study/newWords",method:"post",data:t})}function h(t){return Object(s["a"])({url:"/study/newWords/"+t,method:"delete"})}function p(t){return Object(s["a"])({url:"/study/newWords/addChallenge",method:"post",data:t})}function m(t){return Object(s["a"])({url:"/study/newWords/listHots/"+t,method:"get"})}function g(t){return Object(s["a"])({url:"/study/newWords/addUserDefaultSetting/"+t,method:"get"})}function f(t){return Object(s["a"])({url:"/study/newWords/editBatch",method:"post",data:t})}function b(t){return Object(s["a"])({url:"/study/newWords/selectRank/"+t,method:"get"})}},d153:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:t.className,style:{height:t.height,width:t.width}})},r=[],n=a("313e"),i=a.n(n),l=a("feb2");a("817d");var o={mixins:[l["default"]],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"300px"},chartData:{type:Array,required:!0}},data:function(){return{chart:null}},watch:{chartData:{deep:!0,handler:function(t){this.setOptions(t)}}},mounted:function(){var t=this;this.$nextTick((function(){t.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=i.a.init(this.$el,"macarons"),this.setOptions(this.chartData)},setOptions:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.chart.setOption({tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{left:"center",bottom:"10",data:["已消灭","可练习","需等待"]},series:[{name:"全部生词状态分布",type:"pie",roseType:"radius",radius:[15,85],center:["50%","38%"],data:t,animationEasing:"cubicInOut",animationDuration:2600}]})}}},c=o,u=a("2877"),d=Object(u["a"])(c,s,r,!1,null,null,null);e["default"]=d.exports},eab4:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:t.className,style:{height:t.height,width:t.width}})},r=[],n=a("313e"),i=a.n(n),l=a("feb2");a("817d");var o={mixins:[l["default"]],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"350px"},autoResize:{type:Boolean,default:!0},chartData:{type:Object,required:!0}},data:function(){return{chart:null}},watch:{chartData:{deep:!0,handler:function(t){this.setOptions(t)}}},mounted:function(){var t=this;this.$nextTick((function(){t.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=i.a.init(this.$el,"macarons"),this.setOptions(this.chartData)},setOptions:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.xaxis,a=t.expectedData,s=t.actualData;this.chart.setOption({xAxis:{data:e,boundaryGap:!1,axisTick:{show:!1}},grid:{left:20,right:30,bottom:20,top:30,containLabel:!0},tooltip:{trigger:"axis",axisPointer:{type:"cross"},padding:[5,10]},yAxis:{axisTick:{show:!1}},legend:{data:["目标生词数","实际收集数"]},series:[{name:"目标生词数",itemStyle:{normal:{color:"#FF005A",lineStyle:{color:"#FF005A",width:2}}},smooth:!0,type:"line",data:a,animationDuration:2800,animationEasing:"cubicInOut"},{name:"实际收集数",smooth:!0,type:"line",itemStyle:{normal:{color:"#3888fa",lineStyle:{color:"#3888fa",width:2},areaStyle:{color:"#f3f8ff"}}},data:s,animationDuration:2800,animationEasing:"quadraticOut"}]})}}},c=o,u=a("2877"),d=Object(u["a"])(c,s,r,!1,null,null,null);e["default"]=d.exports},ee46:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-form",{ref:"form",attrs:{model:t.user,rules:t.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"旧密码",prop:"oldPassword"}},[a("el-input",{attrs:{placeholder:"请输入旧密码",type:"password"},model:{value:t.user.oldPassword,callback:function(e){t.$set(t.user,"oldPassword",e)},expression:"user.oldPassword"}})],1),a("el-form-item",{attrs:{label:"新密码",prop:"newPassword"}},[a("el-input",{attrs:{placeholder:"请输入新密码",type:"password"},model:{value:t.user.newPassword,callback:function(e){t.$set(t.user,"newPassword",e)},expression:"user.newPassword"}})],1),a("el-form-item",{attrs:{label:"确认密码",prop:"confirmPassword"}},[a("el-input",{attrs:{placeholder:"请确认密码",type:"password"},model:{value:t.user.confirmPassword,callback:function(e){t.$set(t.user,"confirmPassword",e)},expression:"user.confirmPassword"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.submit}},[t._v("保存")]),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:t.close}},[t._v("关闭")])],1)],1)},r=[],n=a("c0c7"),i={data:function(){var t=this,e=function(e,a,s){t.user.newPassword!==a?s(new Error("两次输入的密码不一致")):s()};return{test:"1test",user:{oldPassword:void 0,newPassword:void 0,confirmPassword:void 0},rules:{oldPassword:[{required:!0,message:"旧密码不能为空",trigger:"blur"}],newPassword:[{required:!0,message:"新密码不能为空",trigger:"blur"},{min:6,max:20,message:"长度在 6 到 20 个字符",trigger:"blur"}],confirmPassword:[{required:!0,message:"确认密码不能为空",trigger:"blur"},{required:!0,validator:e,trigger:"blur"}]}}},methods:{submit:function(){var t=this;this.$refs["form"].validate((function(e){e&&Object(n["j"])(t.user.oldPassword,t.user.newPassword).then((function(e){200===e.code&&t.msgSuccess("修改成功")}))}))},close:function(){this.$store.dispatch("tagsView/delView",this.$route),this.$router.push({path:"/index"})}}},l=i,o=a("2877"),c=Object(o["a"])(l,s,r,!1,null,null,null);e["default"]=c.exports},feb2:function(t,e,a){"use strict";a.r(e);var s=a("ed08");e["default"]={data:function(){return{$_sidebarElm:null,$_resizeHandler:null}},mounted:function(){this.initListener()},activated:function(){this.$_resizeHandler||this.initListener(),this.resize()},beforeDestroy:function(){this.destroyListener()},deactivated:function(){this.destroyListener()},methods:{$_sidebarResizeHandler:function(t){"width"===t.propertyName&&this.$_resizeHandler()},initListener:function(){var t=this;this.$_resizeHandler=Object(s["c"])((function(){t.resize()}),100),window.addEventListener("resize",this.$_resizeHandler),this.$_sidebarElm=document.getElementsByClassName("sidebar-container")[0],this.$_sidebarElm&&this.$_sidebarElm.addEventListener("transitionend",this.$_sidebarResizeHandler)},destroyListener:function(){window.removeEventListener("resize",this.$_resizeHandler),this.$_resizeHandler=null,this.$_sidebarElm&&this.$_sidebarElm.removeEventListener("transitionend",this.$_sidebarResizeHandler)},resize:function(){var t=this.chart;t&&t.resize()}}}}}]);